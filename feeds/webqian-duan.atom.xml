<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Log4D</title><link href="/" rel="alternate"></link><link href="/feeds/webqian-duan.atom.xml" rel="self"></link><id>/</id><updated>2012-05-05T00:00:00+08:00</updated><entry><title>《HTML5 实战 WebApp 阅读应用 – Shiu》幻灯片</title><link href="/2012/05/shiu-slide-show/" rel="alternate"></link><updated>2012-05-05T00:00:00+08:00</updated><author><name>alswl</name></author><id>tag:,2012-05-05:2012/05/shiu-slide-show/</id><summary type="html">&lt;p&gt;今天去南京 HTML5 沙龙分享了一个幻灯片，讲 Shiu 的开发，同时也分享在这里。&lt;/p&gt;
&lt;iframe src="http://www.slideshare.net/slideshow/embed_code/12809450" width="425" height="355" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC;border-width:1px 1px 0" allowfullscreen&gt;&lt;/iframe&gt;

&lt;p&gt;Shiu 的源码托管在 Github，地址是 &lt;a href="https://github.com/alswl/shiu"&gt;https://github.com/alswl/shiu&lt;/a&gt; 感兴趣可以去看看。
噢，Shiu (/ʃʐy/)，中文音标 (shi r&amp;uuml;))，是一款基于 WebApp 的阅读应用。&lt;/p&gt;</summary><category term="ios"></category><category term="shiu"></category><category term="slideshow"></category><category term="webapp"></category></entry><entry><title>jQuery.html()在IE下面错误解决办法</title><link href="/2011/11/jquery-html-in-ie6/" rel="alternate"></link><updated>2011-11-07T00:00:00+08:00</updated><author><name>alswl</name></author><id>tag:,2011-11-07:2011/11/jquery-html-in-ie6/</id><summary type="html">&lt;p&gt;今天遇到一个jQuery的&lt;code&gt;.html()&lt;/code&gt;设定错误问题，FF和Chrome下面都能够正常工作，而IE下面却失败。&lt;/p&gt;
&lt;p&gt;检查之后，我把问题定性到jQuery.html(html)设定在IE下有问题。当设定html文本中含有空行、空格、Tab时候，会出现异常中断，导致&lt;code&gt;html
()&lt;/code&gt;设定失败，但是又不会引发js错误。&lt;/p&gt;
&lt;p&gt;狗日的IE！&lt;/p&gt;
&lt;p&gt;下文是Google来的参考文章：&lt;a href="http://sixpoint.me/808/jquery-html-function-ie-error/"&gt;使用 jQuery .html() 得到的string时,
在IE中出现错误的解决方法&lt;/a&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;使用 jQuery 的 .html() 函数( 使用 .text() 也类似 )得到元素内的值使用时，在IE6中出错，FireFox 中正常。&lt;/p&gt;
&lt;p&gt;基本代码如下:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;ul&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;demo&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;li&amp;gt;&lt;/span&gt;easeInQuad&lt;span class="nt"&gt;&amp;lt;/li&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;li&amp;gt;&lt;/span&gt;easeOutQuad&lt;span class="nt"&gt;&amp;lt;/li&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;li&amp;gt;&lt;/span&gt;easeInOutQuad&lt;span class="nt"&gt;&amp;lt;/li&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/ul&amp;gt;&lt;/span&gt;


$(&amp;#39;.demo li&amp;#39;).each(function(){
    var action = $(this).html();
    $(this).animate({&amp;#39;height&amp;#39;: &amp;#39;-=50px&amp;#39; }, 2000, action);
});
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;debug时将 action 直接用字符串初始化:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c1"&gt;//...........&lt;/span&gt;
    &lt;span class="k"&gt;var&lt;/span&gt; &lt;span class="n"&gt;action&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;&amp;#39;&lt;/span&gt;&lt;span class="n"&gt;easeInQuad&lt;/span&gt;&lt;span class="p"&gt;&amp;#39;;&lt;/span&gt;
&lt;span class="c1"&gt;//...........&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;在IE6中正常执行。用 typeof 测 .html() 的值确实是 string。所以猜测是 .htlm() 在 IE6
中使用时会有一些不干净的东西。。。所以使用 $.trim() 函数来把它清洁一下，就可以解决这个问题:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c1"&gt;//...........&lt;/span&gt;
&lt;span class="k"&gt;var&lt;/span&gt; &lt;span class="n"&gt;action&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;trim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="c1"&gt;//...........&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;可是究竟是什么不干净的东西呢？还是因为别的原因？&lt;/p&gt;
&lt;p&gt;jQuery 文档中关于 .trim() 函数：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The $.trim() function removes all newlines, spaces (including non-breaking
spaces), and tabs from the beginning and end of the supplied string. If these
whitespace characters occur in the middle of the string, they are preserved.&lt;/p&gt;
&lt;/blockquote&gt;</summary><category term="IE"></category><category term="IE6"></category><category term="jQuery"></category></entry><entry><title>jEmotion</title><link href="/2011/11/jemotion/" rel="alternate"></link><updated>2011-11-04T00:00:00+08:00</updated><author><name>alswl</name></author><id>tag:,2011-11-04:2011/11/jemotion/</id><summary type="html">&lt;p&gt;重要通知：Log4D的域名由 &lt;a href="http://dddspace.com"&gt;http://dddspace.com&lt;/a&gt; 迁移到
&lt;a href="http://log4d.com"&gt;http://log4d.com&lt;/a&gt; 。 订阅地址现在改为
&lt;a href="http://log4d.com/feed"&gt;http://log4d.com/feed&lt;/a&gt; 和
&lt;a href="http://feeds.feedburner.com/dddspace"&gt;http://feeds.feedburner.com/dddspace&lt;/a&gt;
。（FeedBurner的地址未发生变化）&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;白天工作时候需要一个功能，我搜了一下Google，没有找到合适的，就花了半天时间写了一个jQuery插件jEmotion。&lt;/p&gt;
&lt;p&gt;jEmotion的主要功能是用来给输入框加入转义之后的表情代码，然后在页面显示时候可以重新将表情代码转回表情图片。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://upload-log4d.qiniudn.com/2011/11/jemotion.png" /&gt;&lt;/p&gt;
&lt;p&gt;jEmotion的代码托管在GitHub上，地址是
&lt;a href="https://github.com/alswl/jEmotion"&gt;https://github.com/alswl/jEmotion&lt;/a&gt; 。&lt;/p&gt;
&lt;p&gt;demo地址是 &lt;a href="http://lab.log4d.
com/javascript/jEmotion/demo.html"&gt;http://lab.log4d.com/javascript/jEmotion/demo.html&lt;/a&gt; 。&lt;/p&gt;
&lt;p&gt;这是我写的第一个jQuery插件，写完还蛮兴奋的，哈哈。&lt;/p&gt;</summary><category term="JavaScript"></category><category term="jEmotion"></category><category term="OpenSource"></category></entry><entry><title>网页渐进式载入图片</title><link href="/2011/09/interlace-progressive-image/" rel="alternate"></link><updated>2011-09-23T00:00:00+08:00</updated><author><name>alswl</name></author><id>tag:,2011-09-23:2011/09/interlace-progressive-image/</id><summary type="html">&lt;h2&gt;Question&lt;/h2&gt;
&lt;p&gt;为什么有的网页打开图片是从上到下逐行打开，有的则是先显示低分辨率图片再逐渐加入细节？&lt;/p&gt;
&lt;h2&gt;Answer&lt;/h2&gt;
&lt;p&gt;感谢@吴亚桐
回答给我找到线索，感谢提问者的好问题，我为这个问题曾经困惑了多年。这种渐进式载入方法容易和其他渐进式载入混淆。&amp;amp;nbsp_place_holder;&lt;/p&gt;
&lt;p&gt;我这里小总结一下几种渐进式载入办法。&amp;amp;nbsp_place_holder;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;js延迟载入，当浏览器滚动条拉到下面时候才显示出图片，参考&amp;amp;nbsp_place_holder;&lt;a href="http://www.neoease.com/lazy-load-jquery-plugin-delay-load-image/"&gt;http://www.neoease.com/lazy-load-jquery-plugin-delay-load-image/&amp;amp;nbsp_place_holder;&lt;/a&gt;  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;使用两张一大一小照片，小的先显示，等大图片完全下载好之后再载入。参考 &lt;a href="http://blog.rexsong.com/?p=929"&gt;http://blog.rexsong.com/?p=929&amp;amp;nbsp_place_holder;&lt;/a&gt;  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;图片渐进式技术，也就是本问题。&amp;amp;nbsp_place_holder;  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;大图片切割成小图片，逐个载入，这是互联网早期方式，现在已经几乎看不到了。太浪费http连接了。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;amp;nbsp_place_holder;下面是答案&amp;amp;nbsp_place_holder;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;浏览器下载图片的时候渐进式载入，这样下载完一张图可以看到它的样子，只不过只是不清楚的图，这样可以减少你等待看它的时间。&amp;amp;nbsp_place_holder;&lt;/p&gt;
&lt;p&gt;实际上有两种方式可以实现这种渐进式效果，一种是图像隔行扫描（&lt;strong&gt;Interlace&lt;/strong&gt;），中文可以成为交错，另外一种叫做图像渐进式扫描（&lt;strong&gt;Progress
ive&lt;/strong&gt;）。&amp;amp;nbsp_place_holder;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;隔行扫描可以在gif/png中实现。隔行GIF是指图像文件是按照隔行的方式来显示的，比如先出奇数行，再出偶数行，造成图像是逐渐变清楚的。将图像文件保存成隔行GIF格式的方法是，在 Photoshop中进行保存时，选择"Interlaced"（不要选择"Normal"），在Paint Shop Pro中进行保存时，点击"Option…"按钮，选择"Interlaced"（不要选择"Non Interlaced"）。&amp;amp;nbsp_place_holder;  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;渐进式扫描在在jpg中实现。逐级JPG文件可以让图像先以比较模糊的形式显示，随着图像文件数据不断从网上传过来，图像会逐渐变清晰。这样做的好处是图像可以尽快地显示出来，虽然图像不很完美，但是却让浏览者看到了希望，并且图像在不断地变好。将图像文件保存成逐级JPG格式的方法是，在Photoshop中进行保存时，选择"Progressive"，在Paint Shop Pro中进行保存时，点击"Option…"按钮，选择"Progressive encoding"。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;参考&amp;amp;nbsp_place_holder;&lt;/p&gt;
&lt;p&gt;&lt;a href="h
ttp://blog.csdn.net/greenerycn/article/details/1458231"&gt;http://blog.csdn.net/greenerycn/article/details/1458231&amp;amp;nbsp_place_holder;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.libpng.org/pub/png/pn
gintro.html"&gt;http://www.libpng.org/pub/png/pngintro.html&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;via&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.zhihu.com/question/1977382
4"&gt;http://www.zhihu.com/question/19773824&lt;/a&gt;&lt;/p&gt;</summary><category term="zhihu"></category></entry><entry><title>简单输入提示框实现</title><link href="/2011/08/auto-clean-input/" rel="alternate"></link><updated>2011-08-18T00:00:00+08:00</updated><author><name>alswl</name></author><id>tag:,2011-08-18:2011/08/auto-clean-input/</id><summary type="html">&lt;p&gt;早期的输入框提示是这样的（via &lt;a href="http://tieba.baidu.com/index.html"&gt;baidu&lt;/a&gt;）&lt;/p&gt;
&lt;p&gt;&lt;img alt="tieba" src="http://upload-log4d.qiniudn.com/2011/08/login1.png" /&gt;&lt;/p&gt;
&lt;p&gt;左边一个 label ，右边一个输入框。&lt;/p&gt;
&lt;p&gt;比较现代的方式是（via &lt;a href="http://www.discuz.net/"&gt;Discuz!&lt;/a&gt;）&lt;/p&gt;
&lt;p&gt;&lt;img alt="discuz!" src="http://upload-log4d.qiniudn.com/2011/08/login2.png" /&gt;&lt;/p&gt;
&lt;p&gt;更漂亮的方式是（via &lt;a href="http://www.diandian.com/login"&gt;点点&lt;/a&gt;）&lt;/p&gt;
&lt;p&gt;&lt;img alt="diandian" src="http://upload-log4d.qiniudn.com/2011/08/login_diandian.png" /&gt;&lt;/p&gt;
&lt;p&gt;登录提示信息是放在输入框里面，可以减少文字干扰，我也想在自己手头的小项目中实现这种效果。&lt;/p&gt;
&lt;p&gt;我需要达到几个要求：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;提示信息是可以暂存的，即用户的输入在清空之后，还能够显示原来的提示信息&lt;/li&gt;
&lt;li&gt;只需为 text / textarea 添加一个 class 即可实现效果&lt;/li&gt;
&lt;li&gt;不修改 DOM 节点，避免影响上下文选择器&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;为了实现效果，我需要将提示信息暂存到某个地方。有3个地方可供选择： js 全局变量、输入框自定义属性、上下文 DOM 节点。&lt;/p&gt;
&lt;p&gt;js 全局变量比较难控制元素标识，并不是每个元素都可以精准的用 id 标记；输入框自定义属性会破坏语义；在上下文加入节点会破坏 DOM 树。&lt;/p&gt;
&lt;p&gt;权衡之后，我选择了使用 输入框自定义属性实现。&lt;/p&gt;
&lt;p&gt;demo 在&lt;a href="http://lab.log4d.com/javascript/autoclean.html"&gt;这里&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;封装的方法代码如下&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.auto_clean&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;blur&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;trim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;val&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt; &lt;span class="o"&gt;===&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;val&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;attr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;message&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}).&lt;/span&gt;&lt;span class="nx"&gt;focus&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;attr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;message&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;===&lt;/span&gt; &lt;span class="kc"&gt;undefined&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;attr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;message&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;val&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;val&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;===&lt;/span&gt; &lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;attr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;message&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;val&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;});&lt;/span&gt;
&lt;span class="p"&gt;});&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;使用方法如下&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nt"&gt;&amp;lt;input&lt;/span&gt; &lt;span class="na"&gt;type=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;text&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;auto_clean&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;value=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;搜索用户&amp;quot;&lt;/span&gt; &lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt; 
&lt;span class="nt"&gt;&amp;lt;br/&amp;gt;&lt;/span&gt; 
&lt;span class="nt"&gt;&amp;lt;textarea&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;auto_clean&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;请在这里输入&lt;span class="nt"&gt;&amp;lt;/textarea&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;update&amp;amp;nbsp_place_holder;2011/08/25： 感谢 &lt;a href="http://www.k68.org/"&gt;@行者&lt;/a&gt; 提醒，使用 html5
的 placeholder 会更干净优美一些，参考见 &lt;a href="http://diveintohtml5.org/forms.html"&gt;Web Forms - Dive Into
HTML5&lt;/a&gt;&lt;/p&gt;</summary><category term=""></category></entry><entry><title>get json failed in IE</title><link href="/2011/08/get-json-failed-in-ie/" rel="alternate"></link><updated>2011-08-14T00:00:00+08:00</updated><author><name>alswl</name></author><id>tag:,2011-08-14:2011/08/get-json-failed-in-ie/</id><summary type="html">&lt;p&gt;半夜在开工打补丁，某个 bug 是 Firefox 下面能接受到 Ajax 回调请求，而 IE 不行。&lt;/p&gt;
&lt;p&gt;解决方案在&lt;a href="http://stackoverflow.com/questions/425854/jquery-ajax-request-failing-
in-ie"&gt;http://stackoverflow.com/questions/425854/jquery-ajax-request-failing-
in-ie&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;缘由是由于 IE 不能正常识别&lt;code&gt;application/json; charset=utf8&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;于是修改为&lt;code&gt;response.headers['Content-Type'] = 'application/json'&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;狗日的 IE！&lt;/p&gt;</summary><category term="IE"></category></entry><entry><title>Html元素事件查看器Eventbug</title><link href="/2011/07/eventbug/" rel="alternate"></link><updated>2011-07-04T00:00:00+08:00</updated><author><name>alswl</name></author><id>tag:,2011-07-04:2011/07/eventbug/</id><summary type="html">&lt;p&gt;Chrome的开发者工具里面有一个小功能：查看当前元素的Event，比如onclick/onblur等事件。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://upload-log4d.qiniudn.com/2011/07/chrome_event.png" /&gt;&lt;/p&gt;
&lt;p&gt;一直想在Firefox里面也找到类似的插件，今天正好看到这么一个好东西，叫做EventBug。&lt;/p&gt;
&lt;p&gt;官方的介绍如下&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Eventbug是一款能够列出所有绑定事件的Firebug扩展，它将这些事件按事件类型排列。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;需要Firebug1.5&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;源码沿用Firebug的BSD风格协议&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;请使用Firebug的Bug报告列表来提交问题&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;请使用Firebug的新闻列表来提出问题&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;作者：John J. Barton, Jan Odvarko&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;测试发现在Firefox5下面没有问题。&lt;/p&gt;
&lt;p&gt;&lt;a href="http://upload-
log4d.qiniudn.com/2011/07/eventbug.png"&gt;&lt;img alt="" src="http://upload-log4d.qiniudn.com/2011/07/eventbug.png" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;这么一款插件在调试js或者对别人的页面做一些js hack特别有用，强烈推荐之。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://getfirebug.com/wiki/index.php/Firebug_Extensions#Eventbug"&gt;Eventbug官方地址&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.softwareishard.com/blog/firebug/eventbug-alpha-released/"&gt;Eventbug介绍博文（En）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://getfirebug.com/releases/eventbug/"&gt;Eventbug下载链接&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary><category term="Firebug"></category><category term="FireFox"></category></entry><entry><title>7条大型网站设计和维护的关键技巧[译文]</title><link href="/2010/07/7-crucial-tips-for-designing-and-maintaining-a-large-site/" rel="alternate"></link><updated>2010-07-17T00:00:00+08:00</updated><author><name>alswl</name></author><id>tag:,2010-07-17:2010/07/7-crucial-tips-for-designing-and-maintaining-a-large-site/</id><summary type="html">&lt;p&gt;原文出处：&lt;a href="http://net.tutsplus.com/articles/general/7-crucial-tips-for-
designing-and-maintaining-a-large-site/"&gt;7 Crucial Tips for Designing and Maintaining a Large Site |
Nettuts+&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;译者：&lt;a href="http://log4d.com"&gt;alswl&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;以下为译文 * &lt;em&gt; * &lt;/em&gt; * &lt;em&gt; * &lt;/em&gt; * &lt;em&gt; * &lt;/em&gt; *&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;项目范围和规模各不相同，他们带来的挑战各不相同一样。作为一个独立的网页设计师，我最大的职责就是负责FlashDen。随着成千上万的活动用户聊天，上传和购物，
网站处理着大额的金钱和巨大的流量。&lt;/p&gt;
&lt;p&gt;设计，重构，维护和开发团队的工作给了我一些能使事情变得更容易的用用的见解和技巧。而且，就在昨天，我们开始了对网站最大的一次重构，着看上去是一次很好的机会来记
录我最有用的7个秘诀。&lt;/p&gt;
&lt;h3&gt;1. 可维护的设计和代码&lt;/h3&gt;
&lt;p&gt;&lt;img alt="" src="http://upload-log4d.qiniudn.com/2010/07/button.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;我给的第一条也是最条一条秘诀是设计站点保证可以轻松维护。很多时候，当你设计一个站点，你可能为了美学牺牲一些东西。例如，你可能使用一个图片而文字或者样式就可以
应付。或者你可能故意使用一个没有空间缩放的菜单结构。当网站变大时，这将将成为一个非常糟糕的设计。&lt;/p&gt;
&lt;p&gt;当我两年前建成FlashDen的第一个版本时，我使用图片按钮。他们看起来很漂亮，但同时我被100多个不同的按钮图片库拖累着，更谈不上修改图片了。之后在接下来
的几个月中，当一个开发者需要一个新按钮时候他们向我要一个新图片。不用说，我学到这个教训很快，我们切换到一个单独的按钮类，虽然看上去不是很好，但是这种情况更能
安心。&lt;/p&gt;
&lt;p&gt;可维护性的另一面是考虑站点将会怎样成长和变化。比如，当一个新页面增加时，它到哪里去？我一直想要一个横向的导航栏，但是经过一些尝试，我们限制地使用了加入子栏目
的垂直的导航栏，从而加入一个标签结构到页面来保证相关的页面能被归类到一起。我不敢说这是世界上最好的导航栏，但是它肯定能够让我们不用重新设计在一个新的节点加入
网站的时候。&lt;/p&gt;
&lt;p&gt;所以当你在设计大型站点时候，设法让它变得简单，你会为此而感到高兴的！&lt;/p&gt;
&lt;h3&gt;2. 找出你的用户群和任务&lt;/h3&gt;
&lt;p&gt;&lt;img alt="" src="http://upload-log4d.qiniudn.com/2010/07/users.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;大型网站网站和小型站点的最大一个区别就是使用网站的不同用户类型的数量。例如在FlashDen上，有买家、作家、访客、管理员和会员。每个用户组都有他们各自不同
的目标和任务。有时候他们的任务重叠，但是他们有很大的不同。&lt;/p&gt;
&lt;p&gt;一个地方的用户任务在相互对立的观点最好的例子是在一个网页。网站上没有任何一个地方不衔接的每个用户组，并在其他地方是如此的重要，以确保每个人都会有他们想要的。
当然，你要小心，在服务一个用户组你不忽略另一个。&lt;/p&gt;
&lt;p&gt;在这次最新一次FlashDen重新设计时候，我所作工作最大的地方是主页。我做的第一件事情是给自己列出每个用户组需要做的事情：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;买家 - 在FlashDen上购买文件的人&lt;/strong&gt;&lt;br /&gt;
浏览项目，搜索，访问他们的个人主页，存款，学习使用网站（新买家）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;作者 - 在FlashDen上卖商品的人&lt;/strong&gt;&lt;br /&gt;
与其他会员聊天，在主页上展示他们项目的功能，了解网站的新闻，快速的获取他们的投资搭配和收益&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;新访客 - 潜在的买家/作者/会员，刚到站点的人&lt;/strong&gt;&lt;br /&gt;
快速了解到站点是干嘛的，起步教程，查看不同类别的文件和价格&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;会员 - 不是真正的买家或作者，而是在社区中活跃&lt;/strong&gt;&lt;br /&gt;
和其他会员聊天，查看站点新闻，浏览文件&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;管理员/审稿人 - 我们的工作人员，管理文件的批准，主持论坛，参与大部分活动&lt;/strong&gt;&lt;br /&gt;
快速批准文件，查看最新论坛主题，添加站点新闻&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;当你知道不同的用户群体想要做什么，那么你可以设计一个网页，解决了他们所有的需要。不用说，这是随着用户组和任务数量指数级增加的困难的任务。在该网站的其他网页，
你会经常为部分用户组而苦恼，而在主页上，他们却又都集中在一起。不用怀疑，主页是你设计一个网站时候最重要的一项工作。&lt;/p&gt;
&lt;p&gt;在你解决不同需求之前，你需要先考虑用户群。为了做到这个，你需要了解该网站是要实现的目标。&lt;/p&gt;
&lt;h3&gt;3. 了解网站目标&lt;/h3&gt;
&lt;p&gt;&lt;img alt="" src="http://upload-log4d.qiniudn.com/2010/07/discuss.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;虽然每个用户组会很自然地认为他们是最重要的，但是你应该根据他们的优先度来判别站点要实现的目标。比如在FlashDen上，我们给候补人员列出下面几条结论：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;该网站的首要任务是为买家服务。为买家服务可以带来不断的收入，同时也可以为作者群服务。&lt;/li&gt;
&lt;li&gt;让游客更快的了解网站进而成为会员也是至关重要的。FlashDen还处在一个比较新兴的市场，不断有新竞争对手出现，如何将注册会员变成买家或者作者是相当重要的。&lt;/li&gt;
&lt;li&gt;创作者是FlashDen的核心部分，他们也是非常重要，和其他用户群不同的是，他们是网站坚定的拥护者。&lt;/li&gt;
&lt;li&gt;注册会员虽然没有创作者或者买家这么重要，但是他们也在为周边的社群作出贡献。&lt;/li&gt;
&lt;li&gt;作为雇员，管理员/审稿人是相对最不重要的。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;因此，从以上所说可以得出结论，网站服务的的用户需求优先顺序：访客&amp;gt;买家&amp;gt;作者&amp;gt;成员"&amp;gt;管理员。&lt;/p&gt;
&lt;p&gt;认识你的网站正在努力实现的却是最终用户线程的缝制任务一起，并告诉你什么你应该尝试把页面上。&lt;/p&gt;
&lt;p&gt;理解你的网站目的可以把你的所要作的任务贯穿在一起，并且能告诉你应该在页面上放些什么东西。在每个关键性页面你要能区分识别出用户组、任务和优先级别。对于重要的页
面比如主页我慎重的在纸上设计，而一些小的页面则是在脑子里面思考一下。&lt;/p&gt;
&lt;h3&gt;4. 设计，精炼，精炼，精炼 …&lt;/h3&gt;
&lt;p&gt;&lt;a href="http://upload-
log4d.qiniudn.com/2010/07/step4_nm.jpg"&gt;&lt;img alt="" src="http://upload-log4d.qiniudn.com/2010/07/step4_nm.jpg" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;在你找到你的用户组别，任务，网站目标，优先级别等等之后，到了设计的时间了！这是至关重要的步骤，因为在实际操作中，这一步可以大幅降低一些将必要的返工设计工作量
。每当我刚开始设计并没有真正分析第一大网站，我已不可避免地要大量的返工，甚至整个屏幕交互界面。&lt;/p&gt;
&lt;p&gt;很多设计师喜欢在这点用线框，这可以简单地用线条和框勾勒大约内容应该显示的地方。我个人更喜欢一开始用Photoshop，因为我速度不够快，这样能让我细致地看到
细节的改变。我也认为详细细节信息设计比在纸上显示更直观。简单地改变颜色和背景颜色可以使整个网页页面元素立马看上去更为重要。&lt;/p&gt;
&lt;p&gt;一旦你有一个怎样的信息需要共同努力粗略的想法，你应该拿出一个工作的设计，一般是确定，然后再精炼，精炼，精炼。我经常会起草5到6相同的外观，然后在之上尝试不同
类型、大小、图像，布局的改动，背景等等，看看你对它的直观感受。&lt;/p&gt;
&lt;p&gt;不管你觉得第一个布局有多好，我可以保证，在花费一段时间进行数次版本升级之后，你会发现了你原来的版本不是和你最初想到的那么好。有时你甚至抛弃整个设计并重新开始
。而如果你有一个良好的基础，然后精炼细化能让你有一个漂亮的成果。&lt;/p&gt;
&lt;h3&gt;5. 听取别人的意见，自己下最后的主意&lt;/h3&gt;
&lt;p&gt;任何一个大型的工作中，你都会被其他很多意见所影响。在开始FlashDen工作之前，我曾经与各种网站设计公司合作。期间我也有不幸设计一些大型保险公司和一些政府
组织。我说不幸，因为当你到该客户和牵扯很多利益的人打交道，同时在许多当时还不清楚真正的决策权的情况下作出错误决策。这会导致无休止的会议，无穷无尽的变化，并极
大的混淆你的眼光。&lt;/p&gt;
&lt;p&gt;不管是什么用户，真正重要的只是得到他们的意见。在大多数情况下，他们比你更知道了很多与业务有关的事。但愿他们比你还了解用户，这些知识将能够向你提供建设性的意见
。&lt;/p&gt;
&lt;p&gt;得到与你一起工作的开发团队的意见也同样重要。在FlashDen我们很幸运，因为有两个开发者在用户界面和可用性设计方面经验丰富。随着他们的投入，和其他团队成员
，向最终的产品提出了很多不同的想法。&lt;/p&gt;
&lt;p&gt;但到最后，就是你这个设计专家作出最后决定的时候了。如果你有一个难对付的客户这可能会非常棘手，因为这些客户往往认为他们应该作最后的决策。如果是这样的话，你需要
想办法向他们解释，灌输并且展示出你的选择会带来最好的收益。;有时候硬着头皮把客户的意见接受，并作为项目中的一个长期建设性功能。&lt;/p&gt;
&lt;h3&gt;6. 为将来做组织&lt;/h3&gt;
&lt;p&gt;&lt;img alt="" src="http://upload-log4d.qiniudn.com/2010/07/subversion.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;当您为一个大网站编码设计时，它是真正重要的是反复思考未来的变化。如何管理您的文件和文件夹将极大地影响之后的工作。例如最近我们决定建立一个着重音乐的Flash
Den的姊妹网站，即AudioJungle。为了简化，这个网站是将使用相同的HTML，只是改变样式来使它看起来像一个不同的网站。这里有一些事情要记住：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;整理一个良好的文件夹结构&lt;/strong&gt;&lt;br /&gt;
脚本，样式表，界面的图片，图片内容，等等，都需要分开存放。如果一个小网站，你也许可以把这些东西杂糅到一起，但在大型站点中，找到你需要的内容变得更为重要。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;给你的文件使用有规则、良好的命名规范&lt;/strong&gt;&lt;br /&gt;
没有什么比按名字"gd_l3.jpg"寻找一块图片更为糟糕。你怎样做即基本是个人的事，但我觉得使用通用命名描述性文件名的前缀会有更大的帮助。比如：我可能会给
头部的每张图片加上前缀'header_'，每一个背景加上'bg_'，头部菜单中的背景可能称为'header_bg_menu.jpg'。前缀有一个好处，当您的
文件按名称排序，他们都出现在一起。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;使用Subversion&lt;/strong&gt;&lt;br /&gt;
这是被我们的开发人员逼得，但幸亏我们用了它！Subversion可以跟踪文件和档案的变更，同时可以防止覆盖其他设计者/开发者在同一个项目中的文件。这需要一些
时间来适应，但即使没有开发者使用它的原因，在HTML / CSS的设计上用它也是值得的。还不知道Subversion？赶紧去使用吧。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;在你写HTML和CSS深入思考写法&lt;/strong&gt;&lt;br /&gt;
很容易写出垃圾HTML和CSS代码，而且很难清除它们来获得原先版本。经过4个重设计，我仍然使用很多相同的CSS文件，必须规划地清理不再使用的或者带来混淆布局
定义CSS类。通过大量的意见，甚至可能是多个样式表，并确保你有良好的命名风格！&amp;amp;nbsp_place_holder;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;早点开始浏览器差异兼容工作&lt;/strong&gt;&lt;br /&gt;
我在FlashDen这方面的工作听失误的，至今我们已经为此付出了很大的代价。我最初的布局设计在IE7上，直到我们完成整个网站才发现忽略了IE6。之后我们已经
加入IE浏览器条件式，和CSS
Hack和其他解决方法。在你建立一个庞大的站点时候，在页面上只有少量元素时候可以更轻松的处理浏览器兼容性，，所以不要重蹈覆辙！&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;7. 确保可以简单的扩展你的样式表&lt;/h3&gt;
&lt;p&gt;&lt;img alt="" src="http://upload-log4d.qiniudn.com/2010/07/future.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;网站越大，设计师就越有可能看到或修改每一个单独页面。如果你是一个大型网站上唯一设计师 - 比如我 -
你可能不想在每个页面上重定义。因此，多花精力在样式表上，可以通过默认的属性让页面看起来不错。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;确保你定义了&lt;input&gt;，&lt;strong&gt;等元素的默认样式。&lt;/strong&gt;&lt;br /&gt;
这样的页面可以自动呈现的不错。如果你想指望别人做&lt;strong class="my_bold"&gt;这样的事情，那么不可避免的会和其他页面产生差异&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;创建可让开发人员重复使用的元素&lt;/strong&gt;&lt;br /&gt;
比如在FlashDen上我们有一个CSS表类称为"general_table"，可以确保一个不错的填充数据时候使用的样式。当我有机会设计网页样式时候，我可以
使用个性的表和数据高亮呈现的类型，但是很少会有开发人员吧页面制作成全能的样式去使用。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;请确保您的网页布局有一个不错的结构，即使他里面只有文字。&lt;/strong&gt;&lt;br /&gt;
总是会有些网页还没能往里面添加图像，可能看起来有点沉闷。通过使用诸如标题样式，工具条等等，你可以确保他们也很美观，并且有一定的视觉风格。有关FlashDen
在大多数例子中，我们文本块总结如下：&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;fieldset&gt;

&lt;legend&gt;Heading&lt;/legend&gt;

Content

&lt;/fieldset&gt;

&lt;p&gt;默认情况下，文字外面包围着一个漂亮的边框和标题。这样很容易和开发人员协调工作，文字和表现有了不错的分离，使之看起来更具可读性。我们同时也有一个侧边栏组件，仅
仅把文字内容额外包起来，但是这能使网页看起来更加直观。&lt;/p&gt;
&lt;p&gt;经过设计师的设计，每一个页面基本都是优化过的，但是他们可能不是那么健壮，它仍然看起来很专业和统一。&lt;/p&gt;
&lt;h3&gt;你的观点呢&lt;/h3&gt;
&lt;p&gt;所以这些都是我的秘诀，如果你在更大的站点从事你的工作，发表你的评论吧！&lt;/p&gt;</summary><category term="译文"></category></entry><entry><title>IE XML 缓存问题</title><link href="/2010/06/ie-xml-cache-problem/" rel="alternate"></link><updated>2010-06-02T00:00:00+08:00</updated><author><name>alswl</name></author><id>tag:,2010-06-02:2010/06/ie-xml-cache-problem/</id><summary type="html">&lt;p&gt;明天开始上交毕业设计初稿，其中有一节是遇到的问题和解决办法。我把平时在BooguNote 中的琐碎片段整理出来，便有了此文。&lt;/p&gt;
&lt;p&gt;PS:之前已经有过3篇相关毕设的文章：&lt;/p&gt;
&lt;p&gt;[CakePHP的全局变量&lt;/p&gt;
&lt;p&gt;](http://log4d.com/2010/05/cakephp-global-variables)&lt;/p&gt;
&lt;p&gt;[FMS的80端口占用&lt;/p&gt;
&lt;p&gt;](http://log4d.com/2010/05/fms-80-port-used)&lt;/p&gt;
&lt;p&gt;[SWFObject 一款JavaScript的Flash检测与插入模块&lt;/p&gt;
&lt;p&gt;](http://log4d.com/2010/05/swfobject)&lt;/p&gt;
&lt;p&gt;---- 正文开始 ----&lt;/p&gt;
&lt;h2&gt;问题背景&lt;/h2&gt;
&lt;p&gt;系统要实现一个操作，即每次向同一个url 请求一个GET方法获取一个xml文件，这个xml文件记录着聊天数据并且是即时生成的。当用FireFox或者Chro
me请求时候都能获得正确的数据，而IE则常常出现无法获取实时的XML数据。&lt;/p&gt;
&lt;p&gt;而如果在地址栏中填入 http://localhost/AzaAjaxChat/src/Chat/getXml?messageId=41
这个原始的XML文件地址，就可以获取正确的XML文件。并且在下次IE 的 HTTPRequest请求时候就正常了。看来问题出在IE自身的缓存上面。&lt;/p&gt;
&lt;h2&gt;解决方法&lt;/h2&gt;
&lt;h3&gt;1.使用URL参数随机事件&lt;/h3&gt;
&lt;p&gt;在AJAX请求的页面后加个随机函数,我们可以使用随机时间函数，在javascript发送的URL后加上t=Math.random()。&lt;/p&gt;
&lt;p&gt;当然，不是直接把t=Math.random()拷贝到URL后面,应该像这样:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;url&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&amp;amp; amp;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;t=&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;Math&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;2.修改Header缓存时间&lt;/h3&gt;
&lt;p&gt;在XMLHttpRequest发送请求之前加上 XMLHttpRequest.setRequestHeader("If-Modified-
Since","0")。一般情况下,这里的 XMLHttpRequest 不会直接使用。&lt;/p&gt;
&lt;p&gt;你应该可以找到这样的代码&lt;/p&gt;
&lt;p&gt;XXXXX.send(YYYYYY);&lt;/p&gt;
&lt;p&gt;那么,就把它变成&lt;/p&gt;
&lt;p&gt;XXXXX.setRequestHeader("If-Modified-Since","0");&lt;/p&gt;
&lt;p&gt;XXXXX.send(YYYYYY);&lt;/p&gt;
&lt;h2&gt;a Sample&lt;/h2&gt;
&lt;p&gt;我选择的是第一种方法，我觉得这种更为直观。我的具体代码如下（使用jQuery）：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;jQuery&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;http://localhost/AzaAjaxChat/src/Chat/getXml&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nl"&gt;messageId:&lt;/span&gt; &lt;span class="n"&gt;aacGlobal&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;currentMessageId&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="nl"&gt;version:&lt;/span&gt; &lt;span class="n"&gt;Math&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;},&lt;/span&gt; &lt;span class="n"&gt;getRemoteDataCallBack&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="AzaAjaxChat"></category><category term="IE"></category><category term="JavaScript"></category></entry><entry><title>flower shop 汉化</title><link href="/2010/03/speaking-of-flower-shop/" rel="alternate"></link><updated>2010-03-23T00:00:00+08:00</updated><author><name>alswl</name></author><id>tag:,2010-03-23:2010/03/speaking-of-flower-shop/</id><summary type="html">&lt;p&gt;死党的女朋友的一门网页设计课需要作品，向我求援。我看了一下他们的课件，没有什么动态语言，静态的Html页面即可。&lt;/p&gt;
&lt;p&gt;在&lt;a href="http://blog.bingo929.com/99-high-
quality-free-xhtml-css-div-templates.html"&gt;99款高质量免费(X)HTML/CSS模板-DIV+CSS模版下载 | 彬Go&lt;/a&gt;看到很多款极佳的网页设计，反复删选后，决定选用一款Flower
Shop的作品。&lt;/p&gt;
&lt;p&gt;&lt;a href="http://upload-
log4d.qiniudn.com/2010/03/Flower%20Shop.jpg"&gt;&lt;img alt="" src="http://upload-log4d.qiniudn.com/2010/03/Flower" title="Shop.jpg" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;原始预览： &lt;a href="http://csscreme.com/fre
etemplates/flower_shop/"&gt;http://csscreme.com/freetemplates/flower_shop/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;原始下载： &lt;a href="http://csscreme.co
m/tpsaveas.php?tp=flower_shop.zip"&gt;http://csscreme.com/tpsaveas.php?tp=flower_shop.zip&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;花了1个小时汉化了页面，想了想，还是把这个汉化发布吧。&lt;/p&gt;
&lt;p&gt;&lt;a href="http
://upload-log4d.qiniudn.com/2010/03/Feng's%20Flower%20Shop.jpg"&gt; &lt;img alt="" src="http://upload-log4d.qiniudn.com/2010/03/Feng's" title="Flower Shop.jpg" /&gt; &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;页面预览： &lt;a href="http://alswl.github.com/fenflow
ershop/"&gt;http://alswl.github.com/fenflowershop/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;下载： &lt;a href="https://github
.com/alswl/fenflowershop/archive/master.zip"&gt;https://github.com/alswl/fenflowershop/archive/master.zip&lt;/a&gt;&lt;/p&gt;</summary><category term="CSS"></category><category term="Html"></category></entry><entry><title>开发跨浏览器JavaScript时要注意的问题</title><link href="/2010/01/development-of-cross-browser-javascript-should-pay-attention-to-the-problem/" rel="alternate"></link><updated>2010-01-30T00:00:00+08:00</updated><author><name>alswl</name></author><id>tag:,2010-01-30:2010/01/development-of-cross-browser-javascript-should-pay-attention-to-the-problem/</id><summary type="html">&lt;p&gt;最近在做系统的B/S部分，用DWR做Ajax处理，期间遇到一些浏览器兼容的问题，&lt;code&gt;table.insertRow()&lt;/code&gt;和&lt;code&gt;row.insertCell()&lt;/code&gt;
在IE下没有问题，但在FireFox下无效。同事说不用考虑FireFox的兼容，客户使用的环境就是IE。我偏执的认为就算不在所有浏览器下通过，至少在我的Fi
reFox下需要正常运行。&lt;/p&gt;
&lt;p&gt;晚上花了一点时间稍微研究了一下跨浏览器开发JavaScript时要注意的问题，的确好多学问。我对JavaScript的认识还太浅，得花时间做一些功课了。&lt;/p&gt;
&lt;p&gt;顺便推荐一本JavaScript书《&lt;strong&gt;JavaScript语言精粹&lt;/strong&gt; 》，是大名鼎鼎的"O'Reilly"系列，我只看了试读的第一章节，斗胆推荐&lt;/p&gt;
&lt;p&gt;在&lt;a href="http://dancewithnet.com"&gt;随网之舞&lt;/a&gt;的&lt;a href="http://dancewithnet.com/2009/04/02/javascript-the-good-parts/"&gt;《JavaScript语言精粹》 @
随网之舞&lt;/a&gt;有更详细的介绍。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://t.douban.com/lpic/s3651235.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;传送门：&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.china-pub.com/195292"&gt;购买&lt;/a&gt;《JavaScript语言精粹 》via China-Pub&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.douban.com/subject/3590768/"&gt;评论&lt;/a&gt; 《JavaScript语言精粹》via 豆瓣&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;样章阅读&lt;/strong&gt;：&lt;a href="http://images.china-pub.com/ebook195001-200000/195292/ch01.pdf"&gt;第一章. 精华&lt;/a&gt; &lt;a href="http://images.china-pub.com/ebook195001-200000/195292/ch10.pdf"&gt;第十章. 优美的特性&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;以下文章没有URL出处，作者 liqun，来源：&lt;strike&gt;www.comecode.com&lt;/strike&gt;（连接已失效）&lt;/p&gt;
&lt;p&gt;××××××××××想回家的分割线××××××××××&lt;/p&gt;
&lt;h2&gt;1、向表中追加行&lt;/h2&gt;
&lt;p&gt;定义table时使用tbody元素，以保证包括IE在内的所有浏览器可用&lt;/p&gt;
&lt;p&gt;例：定义如下一个空表&lt;/p&gt;
&lt;table id="myTable"&gt;

&amp;nbsp_place_holder;&amp;nbsp_place_holder;&amp;nbsp_place_holder;&amp;nbsp_place_holder;&amp;n
bsp_place_holder; &lt;tbody id="myTableBody"&gt;&lt;/tbody&gt;

&lt;/table&gt;

&lt;p&gt;向这个表中增加行的正确做法是，把行增加到表体，而不是增加到表。&lt;/p&gt;
&lt;p&gt;Var cell =
document.createElement("td").appendChild(document.createTextNode("foo"));&lt;/p&gt;
&lt;p&gt;Var row = document.createElement("tr").appendChild(cell);&lt;/p&gt;
&lt;p&gt;Document.getElementById("myTableBody").appendChild(row);&lt;/p&gt;
&lt;p&gt;*IE中需要先创建行，再创建列，再创建内容&lt;/p&gt;
&lt;h2&gt;2、设置元素的样式&lt;/h2&gt;
&lt;p&gt;Var spanElement = document.getElementById("mySpan");&lt;/p&gt;
&lt;p&gt;//下面写法保证出IE外，所有浏览器可用&lt;/p&gt;
&lt;p&gt;spanElement.setAttribute("style","font-weight:bold;color:red;");&lt;/p&gt;
&lt;p&gt;//下面的写法保证IE可用&lt;/p&gt;
&lt;p&gt;spanElement.style.cssText="font-weight:bold;color:red;";&lt;/p&gt;
&lt;h2&gt;3、设置元素的class属性&lt;/h2&gt;
&lt;p&gt;Var element = document.getElementById("myElement");&lt;/p&gt;
&lt;p&gt;//下面的写法保证除IE外，所有浏览器可用&lt;/p&gt;
&lt;p&gt;Element.setAttribute("class","styleClass");&lt;/p&gt;
&lt;p&gt;//下面写法保证IE可用&lt;/p&gt;
&lt;p&gt;Element.setAttribute("className","styleClass");&lt;/p&gt;
&lt;h2&gt;4、创建输入元素&lt;/h2&gt;
&lt;p&gt;Var button = document.createElement("input");&lt;/p&gt;
&lt;p&gt;//单行文本框、复选框、单选框、单选钮、按钮需要此属性区别&lt;/p&gt;
&lt;p&gt;Button.setAttribute("type","button");&lt;/p&gt;
&lt;p&gt;Document.getElementById("formElement").appendChild(button);&lt;/p&gt;
&lt;h2&gt;5、向输入元素增加事件处理程序&lt;/h2&gt;
&lt;p&gt;Var formElement=document.getElementById("formElement");&lt;/p&gt;
&lt;p&gt;//所有浏览器可用&lt;/p&gt;
&lt;p&gt;formElement.onclick=function(){doFoo();};&lt;/p&gt;
&lt;p&gt;//除IE外，所有浏览器可用&lt;/p&gt;
&lt;p&gt;formElement.setAttribute("onclick","doFoo();");&lt;/p&gt;
&lt;h2&gt;6、创建单选钮&lt;/h2&gt;
&lt;p&gt;If(document.uniqueID){&lt;/p&gt;
&lt;p&gt;&amp;amp;nbsp_place_holder;&amp;amp;nbsp_place_holder;&amp;amp;nbsp_place_holder;&amp;amp;nbsp_place_holder;&amp;amp;n
bsp_place_holder; //Internet Explorer&lt;/p&gt;
&lt;p&gt;&amp;amp;nbsp_place_holder;&amp;amp;nbsp_place_holder;&amp;amp;nbsp_place_holder;&amp;amp;nbsp_place_holder;&amp;amp;n
bsp_place_holder; Var radioButton=document.createElement("&lt;input type='radio'
name='radioButton' value='checked'&gt;");&lt;/p&gt;
&lt;p&gt;}else{&lt;/p&gt;
&lt;p&gt;&amp;amp;nbsp_place_holder;&amp;amp;nbsp_place_holder;&amp;amp;nbsp_place_holder;&amp;amp;nbsp_place_holder;&amp;amp;n
bsp_place_holder; //Standards Compliant&lt;/p&gt;
&lt;p&gt;&amp;amp;nbsp_place_holder;&amp;amp;nbsp_place_holder;&amp;amp;nbsp_place_holder;&amp;amp;nbsp_place_holder;&amp;amp;n
bsp_place_holder; Var radioButton=document.createElement("input");&lt;/p&gt;
&lt;p&gt;&amp;amp;nbsp_place_holder;&amp;amp;nbsp_place_holder;&amp;amp;nbsp_place_holder;&amp;amp;nbsp_place_holder;&amp;amp;n
bsp_place_holder; radioButton.setAttribute("type","radio");&lt;/p&gt;
&lt;p&gt;&amp;amp;nbsp_place_holder;&amp;amp;nbsp_place_holder;&amp;amp;nbsp_place_holder;&amp;amp;nbsp_place_holder;&amp;amp;n
bsp_place_holder; radioButton.setAttribute("name","radioButton");&lt;/p&gt;
&lt;p&gt;&amp;amp;nbsp_place_holder;&amp;amp;nbsp_place_holder;&amp;amp;nbsp_place_holder;&amp;amp;nbsp_place_holder;&amp;amp;n
bsp_place_holder; radioButton.setAttribute("value","checked");&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;h2&gt;7、insertRow,insertCell,deleteRow&lt;/h2&gt;
&lt;p&gt;在IE中，table.insertRow()如果没有指定参数，则在表格后面添加行，默认参数位-1；如果在Firefox中，则一定要加参数，如：insertR
ow(-1)。&lt;/p&gt;</summary><category term="JavaScript"></category></entry><entry><title>关于禁用Javascript的讨论</title><link href="/2009/05/discussion-on-javascript-disabled/" rel="alternate"></link><updated>2009-05-23T00:00:00+08:00</updated><author><name>alswl</name></author><id>tag:,2009-05-23:2009/05/discussion-on-javascript-disabled/</id><summary type="html">&lt;p&gt;做用户验证时候，在为客户端和服务器端各自的验证发愁，这时候我想到一个问题，现在这么多网站依赖javascript来表现页面，那么如果禁用了会怎么样呢。&lt;/p&gt;
&lt;p&gt;Google了一下，找到一篇06年的帖子。当客户端把Javascript禁用后，&lt;a href="http://bbs.blueidea.com/archi
ver/tid-2694115.html"&gt;猛击这里打开&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;最让我吃惊的是这篇神奇的帖子从06年被讨论到09年，从挖坟N次，好狠...&lt;/p&gt;
&lt;p&gt;摘录部分语句如下：&lt;/p&gt;
&lt;p&gt;所以我会做一个纯HTML的首页，告诉人家不要屏蔽javascript，不要屏蔽ActiveX，不要............:( :(&lt;/p&gt;
&lt;p&gt;看看Gmail怎么做的。我觉得那就是答案（的一种）。&lt;/p&gt;
&lt;p&gt;禁止JS上在功能的使用上致少不该受到影响，但是国内的许多网站不去考虑这个。　只是盲目的跟风，　什么AJAX、什么体验，很多都是建立在JS上的，一旦使用的浏览
器不支持JS，就什么都没了。google做得不错，可是国内一些所谓的门户网站，像sinasohu163yahoo或多或少都存在一定的问题，这些站的首页或许没
什么问题，但看看其它的页面就知道。　既然浏览器提供了禁用JS、禁用COOKIE的功能，那我们就不得不考虑禁用后对我们的影响。&lt;/p&gt;
&lt;p&gt;CJJ 老是走极端。&lt;/p&gt;
&lt;p&gt;什么网站能满足１００％的用户需要？&lt;/p&gt;
&lt;p&gt;GOOGLE搜索，只能说第一页的排序满足８０％的人的需要。&lt;/p&gt;
&lt;p&gt;所以，做一个检查，低于１０％的人没有打开JS，就不用专为他们搞一个版本了。&lt;/p&gt;
&lt;p&gt;什么用户都想抓住，往往什么用户都抓不住。&lt;/p&gt;
&lt;p&gt;当你的消耗和价值不相等的时候，选择放弃，是最好的解决方案。&lt;/p&gt;
&lt;p&gt;很多事，不是人们不想做。而是在商业环境下，不允许这样去做。&lt;/p&gt;
&lt;p&gt;当然，追求完美是我们的目标，如果能在条件许可的情况下，可以做这样的工作。&lt;/p&gt;
&lt;p&gt;但现在网站，往往都没有这样的许可。&lt;/p&gt;
&lt;p&gt;我支持蓝色。&lt;/p&gt;
&lt;p&gt;我认为是这样的：&lt;/p&gt;
&lt;p&gt;一个运营网站为主导思想的人（比如蓝色）不应该赞同这个问题，关闭JS 和 Cookies的人实在太少，缺了这个东西，说明他们不在乎用户体验，他在网上寸步难行。&lt;/p&gt;
&lt;p&gt;而一个以技术为主导思想的人（比如技术总监），就必须考虑一下这个问题。&lt;/p&gt;
&lt;p&gt;而最关键的问题是： [color=Blue]他是你的目标客户吗？[/color]&lt;/p&gt;
&lt;p&gt;从技术角度讲，解决这个问题不难。现在争论的焦点是：是否有必要去做。&lt;/p&gt;
&lt;p&gt;答案很简单： 如果你的人力成本允许，并且你在乎这部分变态的人，就去改善把～&lt;/p&gt;
&lt;p&gt;Google这么做就是考虑到这个因素。总体来说这个问题不是一个问题，而是一个普遍问题：&lt;/p&gt;
&lt;p&gt;如果用户关闭JS怎么办？&lt;/p&gt;
&lt;p&gt;如果用户不支持Cookies怎么办？&lt;/p&gt;
&lt;p&gt;如果用户没有安装flashpleyer怎么办？&lt;/p&gt;
&lt;p&gt;如果用户使用的是 IE5怎么办？&lt;/p&gt;
&lt;p&gt;如果用户是 800*600分辨率怎么办？&lt;/p&gt;
&lt;p&gt;如果用户是 FF或者OP或者其他浏览器怎么办？&lt;/p&gt;
&lt;p&gt;如果用户视力障碍怎么办？&lt;/p&gt;
&lt;p&gt;如果用户没有耳机或音箱怎么办？&lt;/p&gt;
&lt;p&gt;哦......你去死把～～天哪～&lt;/p&gt;
&lt;p&gt;呵呵，现在有多少网站用的em呢，我想大多是px吧，那些中老年人只有戴老花镜上网咯。。。。&lt;/p&gt;
&lt;p&gt;说用户体验性，我想还是要针对人群来说，大家都在这里谈论什么js，css。可是你的最终用户会谈论什么呢？处于这个领域，懂这些技术，你会去说，会去讨论，可用户不
会关心这些吧，一些普通的网民谁会自己主动去把js禁用掉，他们就不知道这些。也许他们关注的只是我要找的信息好不好找，你这页面我看舒服不舒服，你这里速度是不是很
快......&lt;/p&gt;
&lt;p&gt;如果像某些同志那样的要考虑没有css，js，flash等等该怎么去做网页，那可以假想一下做出来的东西会是什么样子的，我说不好，也没尝试过。&lt;/p&gt;
&lt;p&gt;现在的这技术，那技术是为了什么而出现的呢，某位同学比喻的很好：某天砍掉自己的脚，会问我怎么不会走路了呢.......&lt;/p&gt;
&lt;p&gt;话又说回来，做web开发本来就是个敏捷性要求很高的开发，我们把过多的精力放在那些边边角角的问题上，会得不偿失。&lt;/p&gt;
&lt;p&gt;针对你的用户去处理问题....&lt;/p&gt;
&lt;p&gt;=====注意时间！！！====&lt;/p&gt;
&lt;p&gt;ujam 发表于 2009-2-18 17:38&lt;/p&gt;
&lt;p&gt;js很重要，现在js正在越来越受重视中，开源库jquery,prototype这些都是随着时代的变化而产生的，打个比方js版星际争霸，都比软件版的小,占用空
间小，跨平台，所以我觉得以后的软件会网页化。&lt;/p&gt;
&lt;p&gt;网页化还可以减少成本&lt;/p&gt;</summary><category term="JavaScript"></category></entry><entry><title>继续推荐书：Ajax实战</title><link href="/2009/03/continue-to-recommend-the-book-ajax-in-action/" rel="alternate"></link><updated>2009-03-03T00:00:00+08:00</updated><author><name>alswl</name></author><id>tag:,2009-03-03:2009/03/continue-to-recommend-the-book-ajax-in-action/</id><summary type="html">&lt;p&gt;本来关于Ajax的学习可以告一段落，原因是看的一本国内的教材有点错误，耗了好多时间才改对，让我对Ajax的热情稍微降低&lt;/p&gt;
&lt;p&gt;不过很"可惜"的是，今天在China-pub上看到一本五星评价的书，《Ajax实战》，抱着试一试的态度，居然在图书馆找到了这本书。&lt;/p&gt;
&lt;p&gt;略微一看，是ajaxcn.org做的翻译，还是不错的，而且是Ajax领域的开山之作，读完前言，又激发我读下去的乐趣。&lt;/p&gt;
&lt;p&gt;在此感谢矿大的图书馆，总是留下最后一本书给我借，谢谢````&lt;/p&gt;
&lt;p&gt;链接地址：&lt;/p&gt;
&lt;h1&gt;Ajax实战:实例详解 [全场购物满58元免配送费！](http://www.china-&lt;/h1&gt;
&lt;p&gt;pub.com/STATIC07/0902/zh_spfv09_090202.asp)&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.china-
pub.com/ureader/product.asp?bookid=209252"&gt;&lt;img alt="" src="http://images.china-pub.com/images/icon_dzs.gif" /&gt;&lt;/a&gt;　&lt;img alt="" src="http://images.china-" title="pub.com/computers/common/images/free.gif" /&gt;&lt;a href="http://www.china-
pub.com/computers/common/mianfeisd.asp?id=209252"&gt;进入免费试读&lt;/a&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;精彩评论&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;amazom &amp;amp;nbsp_place_holder;&amp;amp;nbsp_place_holder; 评论： &lt;a href="http://www.china-pub.com/member/bookpinglun/viewpinglun.asp?id=209252&amp;amp;gid=1"&gt;来自Ajax中国的读者的书评： 本书是Ajax实战系列中的一本，正如前言所说，《Ajax in Practice》是"第二代"的Ajax图书，相比上一代如《A..&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;uf &amp;amp;nbsp_place_holder;&amp;amp;nbsp_place_holder; 评论： &lt;a href="http://www.china-pub.com/member/bookpinglun/viewpinglun.asp?id=209252&amp;amp;gid=1"&gt;知识点的讲述简明扼要，论述清楚 ，没有浪费太多篇幅，但是问题描述的很清楚。适合具备一定基础的人学习 ，能巩固和更新知识结构，有大..&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href="%E5%AE
%9E%E4%BE%8B%E8%AF%A6%E8%A7%A3&amp;quot;,9"&gt;&lt;img alt="" src="http://images.china-pub.com/ebook205001-210000/209252/zcover.jpg" /&gt;&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;&lt;a href="%E5%A
E%9E%E4%BE%8B%E8%AF%A6%E8%A7%A3&amp;quot;,9"&gt;&lt;img alt="" src="http://images.china-pub.com/computers/common/images/zoom.gif" /&gt;点击看大图&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;市场价 ： ￥59.00&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.china-
pub.com/temporary/faq/20041122FAQ/default.asp?yoururlname=youhui_1.htm"&gt;普通会员 ：&lt;/a&gt; ￥47.20&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.china-
pub.com/temporary/faq/20041122FAQ/default.asp?yoururlname=youhui_1.htm"&gt;1-3星会员：&lt;/a&gt; ￥46.02&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.china-
pub.com/temporary/faq/20041122FAQ/default.asp?yoururlname=youhui_1.htm"&gt;4-5星会员：&lt;/a&gt;
￥44.25(75折)&lt;/p&gt;
&lt;p&gt;校园优惠价 ： ￥44.25(75折) &amp;amp;nbsp_place_holder;&amp;amp;nbsp_place_holder;&amp;amp;nbsp_place_holder;&amp;amp;
nbsp_place_holder;&lt;a href="http://www.china-
pub.com/STATIC07/0702/zh_songdali1_070209.asp"&gt;(马上了解)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[加入教材预订单](void(window.open() new&amp;amp;nbsp_place_holder;&amp;amp;nbsp_place_holder;&amp;amp;nbsp_pl
ace_holder;&lt;a href="http://www.china-
pub.com/STATIC07/0706/zh_jiaocai_070614.asp"&gt;（50天教材预留服务）&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;选择购买数量(更多数量请在购物车中修改)&lt;/p&gt;
&lt;p&gt;[购买](putmycar(209252,$()&lt;/p&gt;
&lt;p&gt;[ 团购](tgwinpop(209252,)&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.china-pub.com/209252&amp;amp;ref=ps#"&gt; 收藏&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.china-pub.com/STATIC07/0902/zh_spfv09_090202.asp"&gt;全场购物满58元免配送费！&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;基本信息&lt;/p&gt;
&lt;p&gt;【评　　价】 &lt;img alt="" src="http://images.china-pub.com/computers/common/image/art1.gif" /&gt;
&lt;img alt="" src="http://images.china-pub.com/computers/common/image/art1.gif" /&gt;
&lt;img alt="" src="http://images.china-pub.com/computers/common/image/art1.gif" /&gt;
&lt;img alt="" src="http://images.china-pub.com/computers/common/image/art1.gif" /&gt;
&lt;img alt="" src="http://images.china-pub.com/computers/common/image/art1.gif" /&gt; (共
&lt;a href="http://www.china-pub.com/member/bookpinglun/viewpinglun.asp?id=209252"&gt;11&lt;/a&gt; 条)
&lt;a href="cp();"&gt;参与评论&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;【原 书 名】 &lt;a href="http://www.amazon.com/Ajax-Practice-Dave-
Crane/dp/1932394990/ref=sr_1_1?ie=UTF8&amp;amp;s=books&amp;amp;qid=1224207549&amp;amp;sr=1-1"&gt;Ajax in Practice&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;【原出版社】 &lt;a href="http://www.china-
pub.com/s/?key1=Manning+Publications"&gt;Manning Publications&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;【作　　者】&lt;a href="http://www
.china-
pub.com/s/?key1=(%d3%a2)Dave+Crane%3b(%c3%c0)Bear+Bibeault%3bJord+Sonneveld"&gt;(英)Dave Crane;(美)Bear Bibeault;Jord Sonneveld [同作者作品]&lt;/a&gt;
&lt;a href="%E5%AE%9E%E4%BE%8B%E8%AF%A6%E8%A7%A3&amp;quot;,5"&gt;[作译者介绍]&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;【译　　者】 &lt;a href="http://www.china-
pub.com/s/?key1=%ba%d8%ca%a6%bf%a1%3b%d0%ed%b3%ac%3b%bd%f0%eb%a2&amp;amp;zyandor=and"&gt;贺师俊;许超;金擘[同译者作品]&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;【丛 书 名】 &lt;a href="http://www.china-
pub.com/s/?key1=%cd%bc%c1%e9%b3%cc%d0%f2%c9%e8%bc%c6%b4%d4%ca%e9"&gt;图灵程序设计丛书&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;【出 版 社】 人民邮电出版社
&amp;amp;nbsp_place_holder;&amp;amp;nbsp_place_holder;&amp;amp;nbsp_place_holder;&amp;amp;nbsp_place_holder;
【书 号】 9787115187659&lt;/p&gt;
&lt;p&gt;【出版日期】 2008 年11月 【开 本】 16开 【页 码】 382
&amp;amp;nbsp_place_holder;&amp;amp;nbsp_place_holder;&amp;amp;nbsp_place_holder;&amp;amp;nbsp_place_holder;
【版 次】1-1&lt;/p&gt;
&lt;p&gt;【所属分类】&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.china-pub.com/browse/?typeid=59&amp;amp;ordertype=1"&gt;计算机&lt;/a&gt; &amp;gt;
&lt;a href="http://www.china-pub.com/browse/?typeid=59-05&amp;amp;ordertype=1"&gt;软件与程序设计&lt;/a&gt; &amp;gt; AJAX&lt;/p&gt;</summary><category term="AJAX"></category><category term="Book"></category></entry><entry><title>关注一下Ext JS</title><link href="/2009/03/look-at-ext-js/" rel="alternate"></link><updated>2009-03-02T00:00:00+08:00</updated><author><name>alswl</name></author><id>tag:,2009-03-02:2009/03/look-at-ext-js/</id><summary type="html">&lt;p&gt;在China-pub首页上看到&lt;a href="http://www.china-pub.com/195152"&gt;深入浅出Ext JS&lt;/a&gt;这本书，China-
pub推荐为09年最值得期待的Ajax技术图书感觉这本书挺不错，就关注了一下Ext JS&lt;/p&gt;
&lt;p&gt;1、ExtJS可以用来开发RIA也即富客户端的AJAX应用，是一个用javascript写的，主要用于创建前端用户界面，是一个与后台技术无关的前端ajax框
架。因此，可以把ExtJS用在.Net、Java、Php等各种开发语言开发的应用中。ExtJs最开始基于YUI技术，由开发人员JackSlocum开发，通过
参考JavaSwing等机制来组织可视化组件，无论从UI界面上CSS样式的应用，到数据解析上的异常处理，都可算是一款不可多得的JavaScript客户端技术
的精品。&lt;/p&gt;
&lt;p&gt;2、Ext的UI组件模型和开发理念脱胎、成型于Yahoo组件库YUI和Java平台上Swing两者，并为开发者屏蔽了大量跨浏览器方面的处理。相对来说，EXT
要比开发者直接针对DOM、W3C对象模型开发UI组件轻松。&lt;/p&gt;
&lt;h2&gt;Ajax主流框架与ExtJS&lt;/h2&gt;
&lt;p&gt;JQuery、 Prototype和YUI都属于非常核心的JS库。虽然YUI，还有最近的JQuery，都给自己构建了一系列的UI器件（Widget），不过却
没有一个真正的整合好的和完整的程序开发平台。哪怕是这些低层的核心库已经非常不错了，但当投入到真正的开发环境中，依然需要开发者做大量的工作去完善很多缺失之处。
而Ext就是要填补这些缺口。主流开源框架中只有Dojo像Ext一样，尝试着提供整合的开发平台。相比Dojo这个出色的工具包，我们认为 Ext能提供一个粘合度
更高的应用程序框架。Ext的各个组件在设计之时就要求和其它Ext组件组合一起工作是无缝合作的。这种流畅的互通性，离不开一个紧密合作的团队，还必须时刻强调设计
和开发这两方面目标上的统一，而这点是很多开源项目未能做到的。从构建每一个组件开始，我们始终都强调组件的外观、性能、互通性和可扩展性，而我们认为组件已经达到了
这几点的要求。&lt;/p&gt;
&lt;p&gt;Ext绝对可以单独使用。实际上，除了有特定的要求，推荐单独使用Ext，这样的话文件占位更小，支持和整合也更紧密。我们也支持与jQuery、 YUI或Prot
otype整合使用，作为低层库的角色出现，以提供处理各种核心的服务，如DOM和事件处理，Ajax连接和动画特效。使用整合方式的一个原因是它们已具备了一些特定
的器件而Ext并没有原生支持----像YUI的History控件便是一个典型的例子。这时，Ext需要依赖YUI这个库的底层来实现History控件，这样一来
的话也可免去Ext自身底层库，从而减少了整个程序的内存占用。另一个使用整合方式的原因是，对于许多已在使用其他底层库的程序，你可能希望逐步加入Ext。总之，如
果已经有了其他库，Ext可已利用它们。我们的宗旨是为用户提供各种可能性和性能上的优化。而事实是，只要实现了相对应的底层库接口，为任意一个框架添加上适配器是没
有问题的----人们可以轻松地将Dojo、Moo、Ajax.NET，或其它JS库转变为 Ext的底层。&lt;/p&gt;
&lt;p&gt;Ext从2.x开始收费，这给他的应用前景带来一些问题。不过对国内开发人员的影响不大，毕竟是客户付款。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href="http://www.china-
pub.com/195152"&gt;&lt;img alt="" src="http://images.china-" title="pub.com/ebook195001-200000/195152/zcover.jpg" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&amp;amp;nbsp_place_holder;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://www.china-pub.com/195152"&gt;深入浅出Ext JS&lt;/a&gt;(china-pub 2.20日全国独家首发）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;【市场价】￥49.00&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;【PUB价】￥36.75&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;[&lt;img alt="" src="http://www.china-" title="pub.com/static/template/template/buy.gif" /&gt;](winpop(195152,)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;本书是国内Ext JS先驱者的智慧结晶。内容翔实、示例丰富，包含大量示例代码，可操作性极强。不仅全面地阐述了Ext
JS的基础知识，而且深入浅出地讲解了Ext JS开发中的高级技巧，同时还给出了大量专家级的建议。通过学习本书，读者将感受到Ext
JS的无穷魅力和Ajax技术带来的完美体验。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&amp;amp;nbsp_place_holder;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;【新书预告】Dojo之父力作&lt;a href="http://www.dojochina.com/index.php?q=no
de/1287"&gt;《Mastering Dojo》&lt;/a&gt;中文版（Dojo中国翻译）即将由图灵公司出版，敬请关注！&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;【媒体评论】&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;"本书是非常急缺的全面讲解Ext JS的图书，弥补了Ajax社区的一大空白。"&lt;/p&gt;
&lt;p&gt;----&lt;a href="http://www.okajax.com/"&gt;Ajax中国&lt;/a&gt;，国内权威的Ajax专业门户   &lt;/p&gt;
&lt;p&gt;"要想全面了解和掌握Ext JS，强烈推荐阅读《深入浅出Ext JS》。从各方面来看，这本书都非常优秀！"&lt;/p&gt;
&lt;p&gt;----&lt;a href="http://www.dojochina.com/"&gt;Dojo中国&lt;/a&gt;，Dojo中文官方网站   &lt;/p&gt;
&lt;p&gt;本书样章发布后好评如潮，经仔细研读，果然名副其实。内容翔实，示例丰富，叙述风趣幽默，可操作性极强……Ext JS开发者必备！&lt;/p&gt;
&lt;p&gt;----&lt;a href="http://www.family168.com/"&gt;Family 168&lt;/a&gt;，中国专业的Ajax解决方案提供商   &lt;/p&gt;
&lt;p&gt;"Ext JS是最炫丽的Ajax框架，开源人网站开发了大量基于Ext
JS的应用，本书将是2009年最值得期待的Ajax技术图书之一。相信它一定会受到开源技术爱好者的欢迎，也一定可以为所有爱好Ext JS的开发者带来价值。"&lt;/p&gt;
&lt;p&gt;----&lt;a href="http://www.vifir.com/"&gt;开源人&lt;/a&gt;，专注于为开源人士服务的互动平台&lt;/p&gt;</summary><category term="AJAX"></category><category term="ExtJS"></category></entry><entry><title>Ajax 好玩的拖拽（顺便测试chrome下文字编辑的代码高亮）</title><link href="/2009/02/ajax-drag-and-drop-fun-the-way-chrome-test-the-code-under-the-highlighted-text-editor-search/" rel="alternate"></link><updated>2009-02-26T00:00:00+08:00</updated><author><name>alswl</name></author><id>tag:,2009-02-26:2009/02/ajax-drag-and-drop-fun-the-way-chrome-test-the-code-under-the-highlighted-text-editor-search/</id><summary type="html">&lt;p&gt;&lt;em&gt;HTML语言&lt;/em&gt;: &lt;a href="http://www.fayaa.com/code/view//"&gt;ajax 拖拽&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;HTML&gt;&lt;/p&gt;
&lt;p&gt;&lt;HEAD&gt;&lt;/p&gt;
&lt;p&gt;&lt;TITLE&gt; New Document &lt;/TITLE&gt;&lt;/p&gt;
&lt;p&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=gb2312" /&gt;&lt;/p&gt;
&lt;style type="text/css"&gt;

body

{

margin:10px;

}



#dragHelper

{

position:absolute;/*重要*/

border:2px dashed #000000;

background-color:#FFFFFF;

filter: alpha(opacity=30);

}



.normal

{

position:absolute;/*重要*/

width:300px;

#height:10px;

border:1px solid #666666;

background-color:#FFFFFF;

}



.over

{

position:absolute;/*重要*/

width:300px;

#height:10px;

border:1px solid #666666;

background-color:#f3f3f3;

filter: alpha(opacity=50);

}



.dragArea {

CURSOR: move;

}



&lt;/style&gt;

&lt;p&gt;&lt;/HEAD&gt;&lt;/p&gt;
&lt;p&gt;&lt;BODY oncontextmenu="window.event.returnValue=false"&gt;&lt;/p&gt;
&lt;p&gt;&lt;input type="text" id="evt" name="eventValue" size="40" /&gt;&lt;/p&gt;
&lt;div id="dragHelper" style="display:none"&gt;&lt;/div&gt;

&lt;div class="normal" overClass="over" dragClass="normal"&gt;

&lt;table width="100%"&gt;

&lt;tbody&gt;

&lt;tr bgcolor="#CCCCCC" bar="yes"&gt;&lt;td&gt;&lt;a href="#"&gt;Cobao&lt;/a&gt;&lt;/td&gt;&lt;td
dragArea="yes" class="dragArea"&gt;........&lt;/td&gt;&lt;td&gt;&lt;a href="#" color:
rgb(170,85,0)&gt;"openClose(this)"&gt;-&lt;/a&gt; x&lt;/td&gt;&lt;/tr&gt;

&lt;tr&gt;&lt;td colspan="3"&gt;地址:http://www.svnhost.cn&lt;/td&gt;&lt;/tr&gt;

&lt;tr&gt;&lt;td colspan="3"&gt;关键字:&lt;a href="http://www.svnhost.cn"&gt;SVN托管&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;

&lt;tr&gt;&lt;td colspan="3"&gt;说明:&lt;/td&gt;&lt;/tr&gt;

&lt;/tbody&gt;

&lt;/table&gt;

&lt;/div&gt;

&lt;div class="normal" overClass="over" dragClass="normal"&gt;

&lt;table width="100%"&gt;

&lt;tbody&gt;

&lt;tr bgcolor="#CCCCCC" bar="yes"&gt;&lt;td&gt;新浪&lt;/td&gt;&lt;td dragArea="yes"
class="dragArea"&gt;........&lt;/td&gt;&lt;td&gt;&lt;a href="#" color:
rgb(170,85,0)&gt;"openClose(this)"&gt;-&lt;/a&gt; x&lt;/td&gt;&lt;/tr&gt;

&lt;tr&gt;&lt;td colspan="3"&gt;地址:http://www.sina.com.cn&lt;/td&gt;&lt;/tr&gt;

&lt;tr&gt;&lt;td colspan="3"&gt;关键字:&lt;a href="http://www.svnhost.cn"&gt;SVN托管&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;

&lt;tr&gt;&lt;td colspan="3"&gt;说明:&lt;/td&gt;&lt;/tr&gt;

&lt;/tbody&gt;

&lt;/table&gt;

&lt;/div&gt;

&lt;div class="normal" overClass="over" dragClass="normal"&gt;

&lt;table width="100%"&gt;

&lt;tbody&gt;

&lt;tr bgcolor="#CCCCCC" bar="yes"&gt;&lt;td&gt;网易&lt;/td&gt;&lt;td dragArea="yes"
class="dragArea"&gt;........&lt;/td&gt;&lt;td&gt;&lt;a href="#" color:
rgb(170,85,0)&gt;"openClose(this)"&gt;-&lt;/a&gt; x&lt;/td&gt;&lt;/tr&gt;

&lt;tr&gt;&lt;td colspan="3"&gt;地址:http://www.163.com&lt;/td&gt;&lt;/tr&gt;

&lt;tr&gt;&lt;td colspan="3"&gt;关键字:&lt;a href="http://www.svnhost.cn"&gt;SVN托管&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;

&lt;tr&gt;&lt;td colspan="3"&gt;说明:&lt;/td&gt;&lt;/tr&gt;

&lt;/tbody&gt;

&lt;/table&gt;

&lt;/div&gt;

&lt;p&gt;&lt;/BODY&gt;&lt;/p&gt;
&lt;SCRIPT LANGUAGE="JavaScript"&gt;

&lt;!--

var dragObjs = []; //可以拖拽的元素数组

var dragObjTops = [];



var dragHelper = document.getElementById("dragHelper"); //拖拽时位置框

var dragObj = null; //拖拽对象元素

var dragObjPos = 0;



var dragObjOffset = {left:0,top:0}; //拖拽对象原始位置

var mouseInDragObjOffset = {x:0,y:0}; //鼠标在拖拽对象中的相对位置



var initHeight = 40;



Number.prototype.NaN0=function(){return isNaN(this)?0:this;}



function getPosition(e){ //获取元素相对文档的绝对位置

var left = 0;

var top = 0;

while (e.offsetParent){

left += e.offsetLeft;

top += e.offsetTop;

e = e.offsetParent;

}



left += e.offsetLeft;

top += e.offsetTop;



return {x:left, y:top};



}



function mouseCoords(ev){ //获取鼠标相对文档的绝对位置

if(ev.pageX || ev.pageY){

return {x:ev.pageX, y:ev.pageY};

}

return {

x:ev.clientX + document.body.scrollLeft - document.body.clientLeft,

y:ev.clientY + document.body.scrollTop - document.body.clientTop

};

}



function getMouseOffset(target, ev){ // 获取鼠标相对元素的相对位置

ev = ev || window.event;



var elementPos = getPosition(target);

var mousePos = mouseCoords(ev);

return {x:mousePos.x - elementPos.x, y:mousePos.y - elementPos.y};

}



function mouseDown(ev){

ev = ev || window.event;

target = ev.srcElement || ev.target;



if(dragObj){

return;

}




var dragArea = false;

if(target.getAttribute("dragArea")){

dragArea = true;

}



while(!target.getAttribute("isDragObj")){

if(target.tagName=="HTML")

break;

target = target.parentNode;

}



if(dragArea &amp;&amp; target.getAttribute("isDragObj")){

dragObj = target;

//重写的目的是让当前对象在最上层

document.body.removeChild(dragObj);

document.body.appendChild(dragObj);



//记录下拖拽对象原始位置

dragObjOffset.left = dragObj.style.left;

dragObjOffset.top = dragObj.style.top;



dragObj.className = dragObj.getAttribute("overClass");

//鼠标在拖拽对象中的相对位置

mouseInDragObjOffset = getMouseOffset(dragObj, ev);



dragHelper.style.left = dragObj.style.left;

dragHelper.style.top = dragObj.style.top;

dragHelper.style.width = dragObj.offsetWidth;

dragHelper.style.height = dragObj.offsetHeight;

dragHelper.style.display = "";



//alert(dragObj.offsetWidth+":"+dragObj.clientWidth);

}

}



function mouseUp(ev){

ev = ev || window.event;

target = ev.srcElement || ev.target;



if(dragObj){

dragObj.style.left = dragHelper.style.left;

dragObj.style.top = dragHelper.style.top;



dragHelper.style.display = "none";

dragObj.className = dragObj.getAttribute("dragClass");

dragObj = null;

}



}



function mouseMove(ev){

ev = ev || window.event;



if(dragObj) {

var mousePos = mouseCoords(ev);


/*dragHelper.style.left = dragObjOffset.left;

dragHelper.style.top = dragObjOffset.top;

dragHelper.style.width = dragObj.offsetWidth;

dragHelper.style.height = dragObj.offsetHeight;

dragHelper.style.display = "";*/



var windowWidth = document.body.offsetWidth; //窗口宽度

var windowHeight = document.body.offsetHeight; //窗口高度



//拖拽对象应该所在当前位置

var dragObjLeft = mousePos.x - mouseInDragObjOffset.x;

var dragObjTop = mousePos.y - mouseInDragObjOffset.y;



//增加判断，不然拖拽对象拖出浏览器窗口

if(dragObjLeft &gt;= 0 &amp;&amp; dragObjLeft &lt;= windowWidth - dragObj.offsetWidth - 20)

dragObj.style.left = dragObjLeft;



if(dragObjTop &gt;=0)

dragObj.style.top = dragObjTop;



repaint();

}

}



//克隆对象

function cloneObject(srcObj, destObj){

destObj = srcObj.cloneNode(true);

}



function makeDraggable(element){

element.setAttribute("isDragObj", "y");

}



function repaint(){

for(i=0; i&lt;dragObjs.length; i++){

if(dragObjs[i] == dragObj){

dragObjPos = i;

dragObjs[i] = dragHelper;

break;

}

}



if(dragObjPos&gt;0 &amp;&amp;
parseInt(dragObj.style.top)&lt;parseInt(dragObjs[dragObjPos-1].style.top)){

dragObjs[dragObjPos] = dragObjs[dragObjPos-1];

dragObjs[dragObjPos-1] = dragHelper;

dragObjPos = dragObjPos - 1;

}



if(dragObjPos&lt;dragObjs.length-1 &amp;&amp;
parseInt(dragObj.style.top)&gt;parseInt(dragObjs[dragObjPos+1].style.top)){

dragObjs[dragObjPos] = dragObjs[dragObjPos+1];

dragObjs[dragObjPos+1] = dragHelper;

dragObjPos = dragObjPos + 1;

}

paintDragObjs();

dragObjs[dragObjPos] = dragObj;



}



function paintDragObjs(){

var h = 40;

for(i=0; i&lt;dragObjs.length; i++){

dragObjs[i].style.left = 20;

dragObjs[i].style.top = h;

h += dragObjs[i].offsetHeight + 10;

}

}



function openClose(obj){

obj.innerHTML = obj.innerHTML=="-"?"+":"-";

while(obj.tagName != "TBODY"){

obj = obj.parentNode;

}



for(i=0; i&lt;obj.childNodes.length; i++){

if(obj.childNodes[i].nodeName == "#text"

|| obj.childNodes[i].getAttribute("bar")){ continue; }

obj.childNodes[i].style.display=obj.childNodes[i].style.display==""?"none":"";

}



paintDragObjs();

}



document.onmousedown = mouseDown;

document.onmouseup = mouseUp;

document.onmousemove = mouseMove;



window.onload = function(){

var objs = document.getElementsByTagName("Div");

for(i=0; i&lt;objs.length; i++){

var item = objs.item(i);

//if(i==1)item.style.height=150;

if(item.getAttribute("overClass")){

makeDraggable(item);

dragObjs.push(item);

item.style.left = 20;

item.style.top = initHeight;

dragObjTops.push(initHeight);

initHeight += item.offsetHeight + 10;

}

}



// dragHelper = document.createElement('DIV');

// dragHelper.style.cssText = 'position:absolute;display:none;';

// document.body.appendChild(dragHelper);

}

//--&gt;

&lt;/SCRIPT&gt;

&lt;p&gt;&lt;/HTML&gt;&lt;/p&gt;
&lt;p&gt;用http://www.fayaa.com/网站提供的在线编辑器做的，找了类似的工具很久，甚至去了FCKEditer网站，不过效果都不怎么理想，这个网站提供
的非常不错，强烈推荐收藏&lt;/p&gt;</summary><category term="AJAX"></category></entry><entry><title>Ajax起步：使用DOM解析XML</title><link href="/2009/02/ajax-started-use-dom-to-resolve-xml/" rel="alternate"></link><updated>2009-02-26T00:00:00+08:00</updated><author><name>alswl</name></author><id>tag:,2009-02-26:2009/02/ajax-started-use-dom-to-resolve-xml/</id><summary type="html">&lt;p&gt;只要代码没问题，基本上就没有问题，唯一值得注意的是虽然是html文档，但是如果想使用dom解析xml，还是必须使用服务器的，否则XMLHttpRequest
返回的status就是0了。&lt;/p&gt;
&lt;p&gt;&lt;em&gt;XML语言&lt;/em&gt;: &lt;a href="http://www.fayaa.com/code/view//"&gt;studentdata.xml&lt;/a&gt;&lt;/p&gt;
&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;p&gt;&lt;classmates&gt;&lt;/p&gt;
&lt;p&gt;&lt;student&gt;&lt;/p&gt;
&lt;p&gt;&lt;sid&gt;0371&lt;/sid&gt;&lt;/p&gt;
&lt;p&gt;&lt;sname&gt;张三&lt;/sname&gt;&lt;/p&gt;
&lt;p&gt;&lt;sage&gt;17&lt;/sage&gt;&lt;/student&gt;&lt;student&gt;&lt;/p&gt;
&lt;p&gt;&lt;sid&gt;0372&lt;/sid&gt;&lt;/p&gt;
&lt;p&gt;&lt;sname&gt;李四&lt;/sname&gt;&lt;/p&gt;
&lt;p&gt;&lt;sage&gt;18&lt;/sage&gt;&lt;/student&gt;&lt;student&gt;&lt;/p&gt;
&lt;p&gt;&lt;sid&gt;0373&lt;/sid&gt;&lt;/p&gt;
&lt;p&gt;&lt;sname&gt;王五&lt;/sname&gt;&lt;/p&gt;
&lt;p&gt;&lt;sage&gt;18&lt;/sage&gt;&lt;/student&gt;&lt;/classmates&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;HTML语言&lt;/em&gt;: &lt;a href="http://www.fayaa.com/code/view//"&gt;domxml.html&lt;/a&gt;&lt;/p&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd"&gt;

&lt;p&gt;&lt;html&gt;&lt;/p&gt;
&lt;p&gt;&lt;head&gt;&lt;/p&gt;
&lt;p&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;&lt;/p&gt;
&lt;p&gt;&lt;title&gt;使用DOM解析XML&lt;/title&gt;&lt;/p&gt;
&lt;script type="text/javascript" src="domxml.js"&gt;&lt;/script&gt;

&lt;p&gt;&lt;/head&gt;&lt;/p&gt;
&lt;p&gt;&lt;body&gt;&lt;/p&gt;
&lt;form&gt;

&lt;input type="button" value="解析XML" color: rgb(170,85,0)&gt;"sendRequest();"/&gt;

&lt;/form&gt;

&lt;p&gt;&lt;/body&gt;&lt;/p&gt;
&lt;p&gt;&lt;/html&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;JavaScript语言&lt;/em&gt;: &lt;a href="http://www.fayaa.com/code/view//"&gt;domxml.js&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;var XMLHttpReq;&lt;/p&gt;
&lt;p&gt;var url = "studentdata.xml";&lt;/p&gt;
&lt;p&gt;function createXMLHttpRequest() {&lt;/p&gt;
&lt;p&gt;if (window.XMLHttpRequest)&lt;/p&gt;
&lt;p&gt;XMLHttpReq = new XMLHttpRequest();&lt;/p&gt;
&lt;p&gt;else if (window.ActiveXObject) {&lt;/p&gt;
&lt;p&gt;try {&lt;/p&gt;
&lt;p&gt;XMLHttpReq = new ActiveXObject("Msxml2.XMLHTTP");&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;catch (e) {&lt;/p&gt;
&lt;p&gt;try {&lt;/p&gt;
&lt;p&gt;XMLHttpReq = new ActiveXObject("Microsoft.XMLHTTP");&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;catch (e) {&lt;/p&gt;
&lt;p&gt;alert("create faile");&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;function sendRequest() {&lt;/p&gt;
&lt;p&gt;createXMLHttpRequest();&lt;/p&gt;
&lt;p&gt;XMLHttpReq.onreadystatechange = processResponse;&lt;/p&gt;
&lt;p&gt;XMLHttpReq.open("GET", url, true);&lt;/p&gt;
&lt;p&gt;XMLHttpReq.send(null);&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;function processResponse() {&lt;/p&gt;
&lt;p&gt;if (XMLHttpReq.readyState == 4) {&lt;/p&gt;
&lt;p&gt;if (XMLHttpReq.status == 200) {&lt;/p&gt;
&lt;p&gt;readXml();&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;else {&lt;/p&gt;
&lt;p&gt;window.alert(XMLHttpReq.statusText);&lt;/p&gt;
&lt;p&gt;window.alert("请求页面有异常");&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;function readXml() {&lt;/p&gt;
&lt;p&gt;// alert("start read");&lt;/p&gt;
&lt;p&gt;var table = document.createElement("table");&lt;/p&gt;
&lt;p&gt;table.setAttribute("border", "1");&lt;/p&gt;
&lt;p&gt;table.setAttribute("width", "600");&lt;/p&gt;
&lt;p&gt;document.body.appendChild(table);&lt;/p&gt;
&lt;p&gt;var caption = "学生信息" + url;&lt;/p&gt;
&lt;p&gt;table.createCaption().appendChild(document.createTextNode(caption));&lt;/p&gt;
&lt;p&gt;var header = table.createTHead();&lt;/p&gt;
&lt;p&gt;var headerrow = header.insertRow(0);&lt;/p&gt;
&lt;p&gt;headerrow.insertCell(0).appendChild(document.createTextNode("学号"));&lt;/p&gt;
&lt;p&gt;headerrow.insertCell(1).appendChild(document.createTextNode("姓名"));&lt;/p&gt;
&lt;p&gt;headerrow.insertCell(2).appendChild(document.createTextNode("年龄"));&lt;/p&gt;
&lt;p&gt;var students = XMLHttpReq.responseXML.getElementsByTagName("student");&lt;/p&gt;
&lt;p&gt;for (var i =0; i &amp;lt; students.length; i++) {&lt;/p&gt;
&lt;p&gt;var stud = students[i];&lt;/p&gt;
&lt;p&gt;var sid = stud.getElementsByTagName("sid")[0].firstChild.data;&lt;/p&gt;
&lt;p&gt;var sname = stud.getElementsByTagName("sname")[0].firstChild.data;&lt;/p&gt;
&lt;p&gt;var sage = stud.getElementsByTagName("sage")[0].firstChild.data;&lt;/p&gt;
&lt;p&gt;var row = table.insertRow(i + 1);&lt;/p&gt;
&lt;p&gt;row.insertCell(0).appendChild(document.createTextNode(sid));&lt;/p&gt;
&lt;p&gt;row.insertCell(1).appendChild(document.createTextNode(sname));&lt;/p&gt;
&lt;p&gt;row.insertCell(2).appendChild(document.createTextNode(sage));&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;}&lt;/p&gt;</summary><category term="AJAX"></category></entry></feed>