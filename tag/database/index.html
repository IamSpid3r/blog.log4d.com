<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml">
<head>
    <title>Log4D - Database</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Open Graph tags -->

            <meta property="og:type" content="website"/>
            <meta property="og:title" content="Log4D"/>
            <meta property="og:url" content="http://blog.log4d.com"/>
            <meta property="og:description" content="Log4D"/>

    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://blog.log4d.com/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="http://blog.log4d.com/theme/css/font-awesome.min.css" rel="stylesheet">
    <link href="http://blog.log4d.com/theme/css/pygments.css" rel="stylesheet">
    <link rel="stylesheet" href="http://blog.log4d.com/theme/css/style.css" type="text/css"/>
    <!-- JavaScript plugins (requires jQuery) -->
    <script src="http://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>

    <link href="http://blog.log4d.com/atom.xml" type="application/atom+xml" rel="alternate" title="Log4D Atom Feed" />
    <link href="http://blog.log4d.com/rss.xml" type="application/rss+xml" rel="alternate" title="Log4D RSS Feed" />

    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-8822123-3']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();

    </script>
</head>
<body>
<nav class="navbar navbar-default" role="navigation">
    <div class="container col-lg-8 col-lg-offset-2">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://blog.log4d.com/" class="navbar-brand">Log4D</a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                    <li><a href="/tags/">Tags</a></li>
                    <li><a href="/links/">Links</a></li>
                    <li><a href="/about/">About</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="http://blog.log4d.com/archives/"><i class="icon-th-list"></i>Archives</a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</nav>
<!-- /.navbar -->
<div class="container">
    <div class="row">
        <div class="col-lg-8 col-lg-offset-2">
            <article class="article-list">
                <div class="title">
                  <h2 class="text-center"><a href="http://blog.log4d.com/2012/11/keeping-instagram-up-with-over-a-million-new-users-in-twelve-hours/">如何让 Instagram 在一百多万用户爆炸后稳定运行</a></h2>
                </div>
                <div class="summary"><p>原文链接：<a href="http://instagram-engineering.tumblr.com/post/20541814340/keeping-instagram-up-with-over-a-million-new-users-in">Keeping Instagram up with over a million new users in twelve hours</a></p>
<hr />
<p>这周二我们发布了 <a href="https://play.google.com/store/apps/details?id=com.instagram.android">Instagram for Android</a>，反响空前强烈。
最近这几周我们一直（在基础设施方面）做负载计划，为所有可能发生的事故做准备。
尽管如此，在发布那天，最大的挑战仍然是如何快速定位问题，找到瓶颈并尽快修复他们。
在这里我们将分享一些帮助我们解决问题的工具和技术。</p>

                    <p class="text-right">
                      <a class="btn btn-default btn-lg" href="http://blog.log4d.com/2012/11/keeping-instagram-up-with-over-a-million-new-users-in-twelve-hours/"><i class="icon-circle-arrow-right"></i>more ...</a>
                    </p>
                </div>
            </article>
            <hr/>
            <article class="article-list">
                <div class="title">
                  <h2 class="text-center"><a href="http://blog.log4d.com/2010/01/oracle-pl-sql-coding-standards/">Oracle PL/SQL编程规范</a></h2>
                </div>
                <div class="summary"><p>学习PL/SQL不可避免遇到规范的问题，这里转载一篇比较精的文章。</p>
<p>当然，各个公司和个人有自己的风格和规范，甚至Oracle官方的教程代码也没有完全遵守这些规则，这里只是一个推荐和介绍。</p>
<p>来源：<a href="http://database.51cto.com/art/200907/138973.htm">Oracle PL/SQL编程规范指南 -
51CTO.COM</a></p>
<p>更多参考：<a href="http://blog.chinaunix.net/u1/57759/showart_458439.html">SQL,PL/SQL编程规范 - PL/SQL -
IT民工杂谈</a></p>
<p><strong><em>**分割线，Google真汉子</em></strong>**</p>
<h2>一、PL/SQL编程规范之大小写</h2>
<p>就像在SQL中一样，PL / SQL中是不区分大小写的。其一般准则如下：</p>
<p>关键字(<code>BEGIN</code>, <code>EXCEPTION</code>, <code>END</code>, <code>IF THEN ELSE</code>,<code>LOOP</code>, <code>END
LOOP</code>)、数据类型(<code>VARCHAR2</code>, <code>NUMBER</code>)、内部函数(<code>LEAST</code>,
<code>SUBSTR</code>)和用户定义的子程序(<code>procedures</code>, <code>functions</code>,<code>packages</code>)，使用大写 ...</p>
                    <p class="text-right">
                      <a class="btn btn-default btn-lg" href="http://blog.log4d.com/2010/01/oracle-pl-sql-coding-standards/"><i class="icon-circle-arrow-right"></i>more ...</a>
                    </p>
                </div>
            </article>
            <hr/>
            <article class="article-list">
                <div class="title">
                  <h2 class="text-center"><a href="http://blog.log4d.com/2009/08/zhong-guo-sheng-fen-yu-cheng-shi-shu-ju-sql/">中国省份与城市数据SQL</a></h2>
                </div>
                <div class="summary"><p>本文来源：<a href="http://blog.csdn.net/xielingxu/archive/2007/08/26/1759471.aspx">中国省份与城市数据插入 - xlx -
CSDN博客</a></p>
<p>在Google找到这个，实在是爱不释手，就转过来了，很多项目都需要用到这些数据。</p>
<div class="highlight"><pre><span class="k">if</span> <span class="n">exists</span> <span class="p">(</span><span class="n">select</span> <span class="o">*</span> <span class="n">from</span> <span class="n">sysobjects</span> <span class="n">where</span> <span class="n">id</span> <span class="o">=</span> <span class="n">OBJECT_ID</span><span class="p">(</span><span class="err">&#39;</span><span class="p">[</span><span class="n">province</span><span class="p">]</span><span class="err">&#39;</span><span class="p">)</span> <span class="n">and</span> <span class="n">OBJECTPROPERTY</span><span class="p">(</span><span class="n">id</span><span class="p">,</span> <span class="err">&#39;</span><span class="n">IsUserTable</span><span class="err">&#39;</span><span class="p">)</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">DROP</span> <span class="n">TABLE</span> <span class="p">[</span><span class="n">province</span><span class="p">]</span>
</pre></div>


<p>CREATE TABLE [province] (</p>
<p>[id] [int] NOT NULL,</p>
<p>[provinceID] [nvarchar] (12) NOT NULL,</p>
<p>[province] [nvarchar] (80) NOT NULL)</p>
<p>ALTER TABLE [province] WITH NOCHECK ADD CONSTRAINT [PK_province ...</p>
                    <p class="text-right">
                      <a class="btn btn-default btn-lg" href="http://blog.log4d.com/2009/08/zhong-guo-sheng-fen-yu-cheng-shi-shu-ju-sql/"><i class="icon-circle-arrow-right"></i>more ...</a>
                    </p>
                </div>
            </article>
            <hr/>
            <article class="article-list">
                <div class="title">
                  <h2 class="text-center"><a href="http://blog.log4d.com/2009/07/dao-design-the-use-of-generics-to-avoid-duplication-of-dao/">DAO的设计-使用泛型来避免重复DAO</a></h2>
                </div>
                <div class="summary"><p>DAO的全称是Data Access Object数据访问接口。数据访问：顾名思义就是与数据库打交道。夹在业务逻辑与数据库资源中间。</p>
<p>我大二时候写的一个小型管理系统，那时候老师开始强调分层和MVC的思想，当时我将DAO层分了开来，把所有与数据库的交互操作封装成对应的DAO类，这样最大的好处
是实现了封装和隔离，方便系统的迁移和重构。</p>
<p>分层、封装、接口化是一种基本的解决思路，无论是TCP/IP协议族，还是软件工程，都是很值得使用的方案。</p>
<p>那么接下来的问题就是DAO类的设计，我当时遇到的问题就是DAO类之间存在大量的冗余代码，用敏捷的角度来思考，这绝对是不允许存在的。</p>
<p>讲相同的方法抽象出来，这也是最常见的解决方案，最简单的例子就是函数的产生，其实也是对程序的一种抽象和提炼，避免冗余，达到复用效果。</p>
<p>在Java1.5出来之前，用Object来操作对象，实现方法复用，就可以达到上面的目的，但是，存在类型安全的问题。Java1.5提出了泛型的概念，类似与C+
+中的Template，Java运行环境帮助会检查类型的安全。</p>
<p>这里有一篇IBM资料库的文章，详细阐述了泛型在DAO设计的使用「不要重复DAO」&lt;<a href="http://www.ibm ...</p>
                    <p class="text-right">
                      <a class="btn btn-default btn-lg" href="http://blog.log4d.com/2009/07/dao-design-the-use-of-generics-to-avoid-duplication-of-dao/"><i class="icon-circle-arrow-right"></i>more ...</a>
                    </p>
                </div>
            </article>
            <hr/>
            <article class="article-list">
                <div class="title">
                  <h2 class="text-center"><a href="http://blog.log4d.com/2009/07/mysql-command-line-client-garbled-problems-and-solutions/">MySQL Command Line Client乱码问题及解决方案</a></h2>
                </div>
                <div class="summary"><p>以前用MySQL时候都是可视化界面，如MySQL Admin使用，现在学着使用MySQL Command Line client，初次接触，就遇到乱码问题。</p>
<p>乱码是中文字符串的，Google后，找到一些解决方案。摘录如下：</p>
<p>引用自今天去祸害哪家的闺女呢？&lt;<a href="http://leonel.javaeye.com/blog/315090">猛击这里打开</a>&gt;</p>
<p>1:改变数据库的默认编码配置，在MYSQL的安装目录中，找到my.ini，修改默认编</p>
<p>码为：default-character-set=utf8</p>
<p>2:建立数据库时，CREATE DATABASE ms_db CHARACTER SET utf8 COLLATE</p>
<p>utf8_general_ci;</p>
<p>3:执行脚本：指定编码格式set names utf8(注意，不是UTF-8)</p>
<p>4:如果你采用的是外部接入的方式，在连接中确定请求的编码格式如：</p>
<p>jdbc:mysql://localhost:3306 /ms_db?</p>
<p>useUnicode ...</p>
                    <p class="text-right">
                      <a class="btn btn-default btn-lg" href="http://blog.log4d.com/2009/07/mysql-command-line-client-garbled-problems-and-solutions/"><i class="icon-circle-arrow-right"></i>more ...</a>
                    </p>
                </div>
            </article>
            <hr/>
            <article class="article-list">
                <div class="title">
                  <h2 class="text-center"><a href="http://blog.log4d.com/2009/06/mysql-data-type-of-the-length-of-conventional-library-strategy/">MYSQL数据类型长度常规的建库策略</a></h2>
                </div>
                <div class="summary"><p>无论是在小得可怜的免费数据库空间或是大型电子商务网站，合理的设计表结构、充分利用空间是十分必要的。这就要求我们对数据库系统的常用数据类型有充分的认识。下面我
就将我的一点心得写出来跟大家分享。</p>
<h3>一、数字类型</h3>
<p>数字类型按照我的分类方法分为三类：整数类、小数类和数字类。</p>
<p>我所谓的「数字类」，就是指DECIMAL和NUMERIC，它们是同一种类型。它严格的说不是一种数字类型，因为他们实际上是将数字以字符串形式保存的；他的值的每
一位（包括小数点）占一个字节的存储空间，因此这种类型耗费空间比较大。但是它的一个突出的优点是小数的位数固定，在运算中不会「失真」，所以比较适合用于「价格」、
「金额」这样对精度要求不高但准确度要求非常高的字段。</p>
<p>小数类，即浮点数类型，根据精度的不同，有 FLOAT（单精度）和DOUBLE（双精度）两种。它们的优势是精确度，FLOAT可以表示绝对值非常小、小到约
1.17E- 38 （0.000...0117， 小数点后面有37个零）的小数，而DOUBLE更是可以表示绝对值小到约 ...</p>
                    <p class="text-right">
                      <a class="btn btn-default btn-lg" href="http://blog.log4d.com/2009/06/mysql-data-type-of-the-length-of-conventional-library-strategy/"><i class="icon-circle-arrow-right"></i>more ...</a>
                    </p>
                </div>
            </article>
            <hr/>
            <article class="article-list">
                <div class="title">
                  <h2 class="text-center"><a href="http://blog.log4d.com/2008/10/mysql-database-export-import/">mysql 数据库导出/导入</a></h2>
                </div>
                <div class="summary"><p>正在学JSP，用的TomCat和MySQL，没有用CSV控制，所以数据库靠导出导入</p>
<p>导出：</p>
<p>cd bin;</p>
<p>mysqldump -uroot -proot xxx &gt; xxx.sql;</p>
<p>导入：</p>
<p>cd bin;</p>
<p>create xxx;</p>
<p>source xxx.sql;</p>
                    <p class="text-right">
                      <a class="btn btn-default btn-lg" href="http://blog.log4d.com/2008/10/mysql-database-export-import/"><i class="icon-circle-arrow-right"></i>more ...</a>
                    </p>
                </div>
            </article>
            <hr/>

        </div>
    </div>
    <div class="row">
        <div class="col-lg-3 col-lg-offset-2" id="sidebar">
<aside>
    <section>
        <ul class="list-group list-group-flush">
                <li class="list-group-item"><h4><i class="icon-home icon-large"></i>Social</h4></li>
                    <li class="list-group-item"><a href="http://blog.log4d.com/atom.xml"><i
                        class=" icon-rss-sign icon-large"></i>RSS
                    </a></li>
                    <li class="list-group-item"><a href="http://twitter.com/alswl"><i
                        class=" icon-twitter-sign icon-large"></i>Twitter
                    </a></li>
                    <li class="list-group-item"><a href="https://github.com/alswl"><i
                        class=" icon-github-sign icon-large"></i>Github
                    </a></li>
                    <li class="list-group-item"><a href="http://weibo.com/alswlx"><i
                        class=" icon-weibo  icon-weibo-sign icon-large"></i>Weibo
                    </a></li>
        </ul>
    </section>
</aside>        </div>
        <div class="col-lg-3" id="sidebar">
<aside>
    <section>
        <ul class="list-group list-group-flush">

                <li class="list-group-item"><h4><i class="icon-home icon-large"></i>Categories</h4></li>
                    <li class="list-group-item">
                        <a href="http://blog.log4d.com/category/c/">
                            <i class="icon-folder-open icon-large"></i>C
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://blog.log4d.com/category/cheng-xu-ren-sheng/">
                            <i class="icon-folder-open icon-large"></i>程序人生
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://blog.log4d.com/category/delphibian-cheng/">
                            <i class="icon-folder-open icon-large"></i>Delphi编程
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://blog.log4d.com/category/dotnet/">
                            <i class="icon-folder-open icon-large"></i>dotNet
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://blog.log4d.com/category/flashbian-cheng/">
                            <i class="icon-folder-open icon-large"></i>Flash编程
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://blog.log4d.com/category/gan-wu/">
                            <i class="icon-folder-open icon-large"></i>感悟
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://blog.log4d.com/category/gong-yu-shan-qi-shi-bi-xian-li-qi-qi/">
                            <i class="icon-folder-open icon-large"></i>工欲善其事必先利其器
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://blog.log4d.com/category/guan-zhu-hu-lian-wang/">
                            <i class="icon-folder-open icon-large"></i>关注互联网
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://blog.log4d.com/category/java/">
                            <i class="icon-folder-open icon-large"></i>Java
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://blog.log4d.com/category/ji-zhu-da-ren/">
                            <i class="icon-folder-open icon-large"></i>技术达人
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://blog.log4d.com/category/jian-zhan/">
                            <i class="icon-folder-open icon-large"></i>建站
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://blog.log4d.com/category/jian-zhan-xin-de/">
                            <i class="icon-folder-open icon-large"></i>建站心得
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://blog.log4d.com/category/linuxer/">
                            <i class="icon-folder-open icon-large"></i>Linuxer
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://blog.log4d.com/category/mei-shi-peng-ren/">
                            <i class="icon-folder-open icon-large"></i>美食|烹饪
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://blog.log4d.com/category/microsoft-net/">
                            <i class="icon-folder-open icon-large"></i>Microsoft .Net
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://blog.log4d.com/category/net-zong-he-ji-zhu/">
                            <i class="icon-folder-open icon-large"></i>.Net, 综合技术
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://blog.log4d.com/category/phpbian-cheng/">
                            <i class="icon-folder-open icon-large"></i>PHP编程
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://blog.log4d.com/category/pythonbian-cheng/">
                            <i class="icon-folder-open icon-large"></i>Python编程
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://blog.log4d.com/category/qian-duan/">
                            <i class="icon-folder-open icon-large"></i>前端
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://blog.log4d.com/category/qing-chun-de-cai-hong/">
                            <i class="icon-folder-open icon-large"></i>青春的彩虹
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://blog.log4d.com/category/ri-ji/">
                            <i class="icon-folder-open icon-large"></i>日记
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://blog.log4d.com/category/ruan-jian-kai-fa-he-xiang-mu-guan-li/">
                            <i class="icon-folder-open icon-large"></i>软件开发和项目管理
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://blog.log4d.com/category/ruby-bian-cheng/">
                            <i class="icon-folder-open icon-large"></i>Ruby 编程
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://blog.log4d.com/category/shi-jue-she-ji/">
                            <i class="icon-folder-open icon-large"></i>视觉设计
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://blog.log4d.com/category/sui-sui-nian/">
                            <i class="icon-folder-open icon-large"></i>碎碎念
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://blog.log4d.com/category/webqian-duan/">
                            <i class="icon-folder-open icon-large"></i>Web前端
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://blog.log4d.com/category/wu-hua-ba-men/">
                            <i class="icon-folder-open icon-large"></i>五花八门
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://blog.log4d.com/category/xiang-mu-guan-li/">
                            <i class="icon-folder-open icon-large"></i>项目管理
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://blog.log4d.com/category/xing-neng/">
                            <i class="icon-folder-open icon-large"></i>性能
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://blog.log4d.com/category/xue-hai-wu-ya/">
                            <i class="icon-folder-open icon-large"></i>学海无涯
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://blog.log4d.com/category/yi-dong-shou-chi/">
                            <i class="icon-folder-open icon-large"></i>移动手持
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://blog.log4d.com/category/ying-jian/">
                            <i class="icon-folder-open icon-large"></i>硬件
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://blog.log4d.com/category/yu-le/">
                            <i class="icon-folder-open icon-large"></i>娱乐
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="http://blog.log4d.com/category/zong-he-ji-zhu/">
                            <i class="icon-folder-open icon-large"></i>综合技术
                        </a>
                    </li>

        </ul>
    </section>
</aside>        </div>
    </div>
</div>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://blog.log4d.com/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://blog.log4d.com/theme/js/respond.min.js"></script>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'log4d'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
</body>
</html>